Running CFS experiments...
Output Directory: /tmp/ghost_data/2023-11-17 04:34:44
{"throughputs": [10000, 20000, 30000, 40000, 50000, 51000, 52000, 53000, 54000, 55000, 56000, 57000, 58000, 59000, 60000, 61000, 62000, 63000, 64000, 65000, 66000, 67000, 68000, 69000, 70000, 71000, 72000, 73000, 74000, 75000, 76000, 77000, 78000, 79000, 80000], "output_prefix": "/tmp/ghost_data/2023-11-17 04:34:44", "binaries": {"rocksdb": "/dev/shm/rocksdb", "antagonist": "/dev/shm/antagonist", "ghost": "/dev/shm/agent_shinjuku"}, "rocksdb": {"print_format": "pretty", "print_distribution": false, "print_ns": false, "print_get": true, "print_range": true, "rocksdb_db_path": "/dev/shm/orch_db", "throughput": 20000, "range_query_ratio": 0.005, "load_generator_cpus": 10, "cfs_dispatcher_cpus": 11, "num_workers": 6, "worker_cpus": [12, 13, 14, 15, 16, 17], "cfs_wait_type": "spin", "ghost_wait_type": "prio_table", "get_duration": "10us", "range_duration": "5000us", "get_exponential_mean": "0us", "batch": 1, "experiment_duration": "15s", "discard_duration": "2s", "scheduler": "cfs", "ghost_qos": 2}, "antagonist": null, "ghost": null}
Running experiment for throughput = 10000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '10000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           128838             9911                   0            0            2982         5417         16524        23613
Repeatable Handle Time       128838             9911                   0            0            1215         2008         6264         22783
Worker Queue Time            128838             9911                   0            0            68           283          1434         15324
Worker Handle Time           128838             9911                   10           11           485          608          995          16900
Total                        128838             9911                   11           14           4266         7386         20210        31106
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           673                51                     0            0            2152         3047         5016         5016
Repeatable Handle Time       673                51                     0            0            1379         2142         6604         6604
Worker Queue Time            673                51                     0            0            190          524          801          801
Worker Handle Time           673                51                     5001         5001         6996         7511         10342        10342
Total                        673                51                     5001         5002         9699         11032        15190        15190
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           129511             9963                   0            0            2975         5416         16524        23613
Repeatable Handle Time       129511             9963                   0            0            1217         2010         6271         22783
Worker Queue Time            129511             9963                   0            0            69           285          1434         15324
Worker Handle Time           129511             9963                   10           11           616          5001         5002         16900
Total                        129511             9963                   11           14           5003         7455         20210        31106
Running experiment for throughput = 20000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '20000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           258014             19849                  0            0            1693         3745         13021        19740
Repeatable Handle Time       258014             19849                  0            0            1634         2332         3529         5489
Worker Queue Time            258014             19849                  0            0            24           75           678          21840
Worker Handle Time           258014             19849                  10           11           393          519          817          7877
Total                        258014             19849                  11           13           3316         5755         15668        21945
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1264               97                     0            0            1659         2292         6634         9282
Repeatable Handle Time       1264               97                     0            0            1624         2522         3128         3592
Worker Queue Time            1264               97                     0            0            39           73           576          625
Worker Handle Time           1264               97                     5001         5001         6940         9570         11931        15479
Total                        1264               97                     5001         5002         9700         11857        15749        17413
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           259278             19947                  0            0            1693         3745         13010        19740
Repeatable Handle Time       259278             19947                  0            0            1634         2333         3529         5489
Worker Queue Time            259278             19947                  0            0            24           75           678          21840
Worker Handle Time           259278             19947                  10           11           513          1645         5002         15479
Total                        259278             19947                  11           13           5002         5904         15701        21945
Running experiment for throughput = 30000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '30000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           387728             29828                  0            0            1730         4924         17205        29284
Repeatable Handle Time       387728             29828                  0            0            2483         3635         6648         16594
Worker Queue Time            387728             29828                  0            0            14           50           617          7873
Worker Handle Time           387728             29828                  10           11           285          407          717          10929
Total                        387728             29828                  11           12           5216         7909         21364        30487
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           2033               156                    0            0            3077         7736         16638        25653
Repeatable Handle Time       2033               156                    0            0            3232         3737         8544         9355
Worker Queue Time            2033               156                    0            0            23           134          616          1319
Worker Handle Time           2033               156                    5001         5002         7961         11116        13514        35232
Total                        2033               156                    5002         5003         13349        16509        28327        35233
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           389761             29985                  0            0            1739         4931         17236        29284
Repeatable Handle Time       389761             29985                  0            0            2489         3639         6655         16594
Worker Queue Time            389761             29985                  0            0            14           50           617          7873
Worker Handle Time           389761             29985                  10           11           417          5001         5002         35232
Total                        389761             29985                  11           12           5424         7978         21503        35233
Running experiment for throughput = 40000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '40000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           516308             39722                  0            0            2550232      2606849      2659024      2672033
Repeatable Handle Time       516308             39722                  0            25           976119       1434984      2699178      2721241
Worker Queue Time            516308             39722                  0            0            1            21           281          248587
Worker Handle Time           516308             39722                  10           11           249          374          772          826557
Total                        516308             39722                  11           137          2888310      2931445      2955460      2960995
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           2529               194                    0            0            2576103      2620476      2663300      2670527
Repeatable Handle Time       2529               194                    0            21           974161       1580528      2426509      2715892
Worker Queue Time            2529               194                    0            0            4            27           399          2905
Worker Handle Time           2529               194                    5001         5665         12262        16257        502460       2420750
Total                        2529               194                    5002         6412         2879153      2945423      2958127      2968769
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           518837             39916                  0            0            2550297      2606944      2659103      2672033
Repeatable Handle Time       518837             39916                  0            25           976122       1434984      2699178      2721241
Worker Queue Time            518837             39916                  0            0            1            21           283          248587
Worker Handle Time           518837             39916                  10           11           368          5001         6720         2420750
Total                        518837             39916                  11           156          2888296      2931465      2955475      2968769
Running experiment for throughput = 50000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '50000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           646912             49767                  0            0            1072         2648         8810         19626
Repeatable Handle Time       646912             49767                  0            0            2481         3639         6270         19527
Worker Queue Time            646912             49767                  0            0            10           34           578          24970
Worker Handle Time           646912             49767                  10           11           190          294          617          12755
Total                        646912             49767                  11           12           3458         7001         12712        24984
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3160               243                    0            0            912          3080         7205         17155
Repeatable Handle Time       3160               243                    0            0            2291         3066         5894         6911
Worker Queue Time            3160               243                    0            0            6            24           123          7984
Worker Handle Time           3160               243                    5001         5002         8066         9340         15567        19078
Total                        3160               243                    5001         5003         11474        14356        19079        24312
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           650072             50010                  0            0            1072         2651         8793         19626
Repeatable Handle Time       650072             50010                  0            0            2481         3638         6270         19527
Worker Queue Time            650072             50010                  0            0            10           34           578          24970
Worker Handle Time           650072             50010                  10           11           289          1275         5003         19078
Total                        650072             50010                  11           12           5003         7184         13067        24984
Running experiment for throughput = 51000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '51000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           659420             50731                  0            0            2691         6564         19647        31463
Repeatable Handle Time       659420             50731                  0            0            12767        31531        41871        44850
Worker Queue Time            659420             50731                  0            0            8            30           447          19725
Worker Handle Time           659420             50731                  10           11           227          346          753          12356
Total                        659420             50731                  11           13           18360        37170        45280        55814
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3288               252                    0            0            1437         3860         10978        30967
Repeatable Handle Time       3288               252                    0            0            9294         31922        40468        43920
Worker Queue Time            3288               252                    0            0            9            27           70           189
Worker Handle Time           3288               252                    5001         5607         9493         10602        17854        31381
Total                        3288               252                    5002         5688         26213        45035        52085        60137
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           662708             50984                  0            0            2681         6561         19636        31463
Repeatable Handle Time       662708             50984                  0            0            12755        31537        41869        44850
Worker Queue Time            662708             50984                  0            0            8            30           440          19725
Worker Handle Time           662708             50984                  10           11           345          4036         6772         31381
Total                        662708             50984                  11           13           18375        37268        45370        60137
Running experiment for throughput = 52000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '52000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           672771             51756                  0            0            1911         4097         8081         17310
Repeatable Handle Time       672771             51756                  0            0            3933         5656         8681         18875
Worker Queue Time            672771             51756                  0            0            4            21           332          19225
Worker Handle Time           672771             51756                  10           11           194          284          611          9521
Total                        672771             51756                  11           13           6185         8479         15098        19614
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3469               266                    0            0            3300         4971         13861        17151
Repeatable Handle Time       3469               266                    0            0            3968         6234         8600         10164
Worker Queue Time            3469               266                    0            0            4            31           451          819
Worker Handle Time           3469               266                    5001         5002         7614         10013        13809        17750
Total                        3469               266                    5002         5003         13186        15925        22384        23978
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           676240             52023                  0            0            1917         4109         8095         17310
Repeatable Handle Time       676240             52023                  0            0            3933         5657         8678         18875
Worker Queue Time            676240             52023                  0            0            4            21           332          19225
Worker Handle Time           676240             52023                  10           11           287          5001         5003         17750
Total                        676240             52023                  11           13           6372         8541         15313        23978
Running experiment for throughput = 53000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '53000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           685932             52770                  0            0            1758         4680         12850        25182
Repeatable Handle Time       685932             52770                  0            0            5750         6918         10847        14316
Worker Queue Time            685932             52770                  0            0            7            28           452          17305
Worker Handle Time           685932             52770                  10           11           269          392          800          11787
Total                        685932             52770                  11           13           7628         9949         20886        28162
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3425               263                    0            0            1228         3367         9818         23310
Repeatable Handle Time       3425               263                    0            0            5442         6883         8609         10084
Worker Queue Time            3425               263                    0            0            11           27           129          2697
Worker Handle Time           3425               263                    5001         5503         10487        13168        16867        18393
Total                        3425               263                    5002         5669         14653        16496        24016        33603
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           689357             53033                  0            0            1756         4679         12844        25182
Repeatable Handle Time       689357             53033                  0            0            5749         6919         10833        14316
Worker Queue Time            689357             53033                  0            0            7            28           451          17305
Worker Handle Time           689357             53033                  10           11           390          3759         6633         18393
Total                        689357             53033                  11           13           7936         10097        20918        33603
Running experiment for throughput = 54000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '54000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           697745             53678                  0            0            3494         7418         17726        25619
Repeatable Handle Time       697745             53678                  0            0            5502         7134         10953        15779
Worker Queue Time            697745             53678                  0            0            7            29           452          8055
Worker Handle Time           697745             53678                  10           11           231          351          732          15576
Total                        697745             53678                  11           13           8764         13616        22732        27499
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3521               270                    0            0            2573         8392         17220        24654
Repeatable Handle Time       3521               270                    0            0            5518         7565         9585         15402
Worker Queue Time            3521               270                    0            0            3            20           363          1170
Worker Handle Time           3521               270                    5001         5002         7393         9839         14975        20215
Total                        3521               270                    5002         5003         14413        19670        26438        32694
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           701266             53949                  0            0            3485         7419         17718        25619
Repeatable Handle Time       701266             53949                  0            0            5502         7136         10944        15779
Worker Queue Time            701266             53949                  0            0            7            29           448          8055
Worker Handle Time           701266             53949                  10           11           351          5001         5006         20215
Total                        701266             53949                  11           13           8829         13652        22739        32694
Running experiment for throughput = 55000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '55000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           709908             54618                  0            0            1869         4797         8670         12208
Repeatable Handle Time       709908             54618                  0            0            6152         7868         10321        15589
Worker Queue Time            709908             54618                  0            0            7            24           252          27476
Worker Handle Time           709908             54618                  11           12           237          362          792          25078
Total                        709908             54618                  11           13           8585         10540        12918        29654
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3522               270                    0            0            1619         4800         8658         11233
Repeatable Handle Time       3522               270                    0            0            6618         7937         10256        14441
Worker Queue Time            3522               270                    0            0            10           24           154          807
Worker Handle Time           3522               270                    5001         5512         9810         13543        17128        19185
Total                        3522               270                    5002         5642         16364        17987        19843        21436
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           713430             54889                  0            0            1869         4799         8670         12208
Repeatable Handle Time       713430             54889                  0            0            6154         7869         10321        15589
Worker Queue Time            713430             54889                  0            0            7            24           252          27476
Worker Handle Time           713430             54889                  11           12           358          2032         6632         25078
Total                        713430             54889                  11           13           8703         10600        13023        29654
Running experiment for throughput = 56000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '56000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           723023             55620                  0            0            4118         6983         16772        24833
Repeatable Handle Time       723023             55620                  0            0            5583         7118         12421        17923
Worker Queue Time            723023             55620                  0            0            6            28           383          10614
Worker Handle Time           723023             55620                  10           12           195          305          721          13076
Total                        723023             55620                  11           13           9397         11674        20016        28012
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3733               287                    0            0            4497         6659         14779        24137
Repeatable Handle Time       3733               287                    0            0            5252         6500         10309        17254
Worker Queue Time            3733               287                    0            0            1            20           104          823
Worker Handle Time           3733               287                    5001         5002         9320         14600        17224        18493
Total                        3733               287                    5002         5005         16112        18257        24892        30984
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           726756             55907                  0            0            4119         6979         16764        24833
Repeatable Handle Time       726756             55907                  0            0            5581         7113         12410        17923
Worker Queue Time            726756             55907                  0            0            6            28           379          10614
Worker Handle Time           726756             55907                  10           12           309          5001         5419         18493
Total                        726756             55907                  11           13           9456         11837        20025        30984
Running experiment for throughput = 57000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '57000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           736396             56658                  0            0            932          1347         2555         4119
Repeatable Handle Time       736396             56658                  0            0            5744         6883         9307         13849
Worker Queue Time            736396             56658                  0            0            4            25           292          20821
Worker Handle Time           736396             56658                  10           12           248          382          861          5264
Total                        736396             56658                  11           13           5961         7072         9408         20847
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3725               286                    0            0            981          1422         2068         2991
Repeatable Handle Time       3725               286                    0            0            5462         6876         9019         9726
Worker Queue Time            3725               286                    0            0            6            28           89           2974
Worker Handle Time           3725               286                    5001         5904         10324        11344        13688        16306
Total                        3725               286                    5002         6102         13205        14683        16707        17989
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           740121             56945                  0            0            932          1347         2553         4119
Repeatable Handle Time       740121             56945                  0            0            5744         6883         9305         13849
Worker Queue Time            740121             56945                  0            0            4            25           290          20821
Worker Handle Time           740121             56945                  10           12           383          5001         6986         16306
Total                        740121             56945                  11           13           6346         7513         9758         20847
Running experiment for throughput = 58000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '58000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           749571             57666                  0            0            8987         11957        26291        33568
Repeatable Handle Time       749571             57666                  0            1            97394        104947       111218       120448
Worker Queue Time            749571             57666                  0            0            19           68           936          14377
Worker Handle Time           749571             57666                  10           12           187          309          969          29030
Total                        749571             57666                  11           19           100294       108659       115134       127302
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3787               291                    0            0            9409         15530        26581        31876
Repeatable Handle Time       3787               291                    0            2            90584        101235       110290       113594
Worker Queue Time            3787               291                    0            0            15           72           619          4914
Worker Handle Time           3787               291                    5001         5003         15137        16546        18165        30832
Total                        3787               291                    5002         5404         98993        113264       121755       130558
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           753358             57958                  0            0            8989         11963        26288        33568
Repeatable Handle Time       753358             57958                  0            1            97378        104933       111215       120448
Worker Queue Time            753358             57958                  0            0            19           68           930          14377
Worker Handle Time           753358             57958                  10           12           309          5001         6261         30832
Total                        753358             57958                  11           20           100287       108665       115141       130558
Running experiment for throughput = 59000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '59000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           762543             58666                  0            0            3665         5869         10706        22862
Repeatable Handle Time       762543             58666                  0            2            11464        15440        24470        27783
Worker Queue Time            762543             58666                  0            0            3            28           418          9380
Worker Handle Time           762543             58666                  11           12           270          416          938          16521
Total                        762543             58666                  11           23           13069        19214        26236        31188
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3877               298                    0            0            4151         6276         9296         22790
Repeatable Handle Time       3877               298                    0            2            11975        15355        22504        27673
Worker Queue Time            3877               298                    0            0            11           35           1087         2450
Worker Handle Time           3877               298                    5001         6641         14001        16224        19146        21632
Total                        3877               298                    5002         7156         22344        27944        33585        36121
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           766420             58964                  0            0            3665         5870         10676        22862
Repeatable Handle Time       766420             58964                  0            2            11464        15436        24469        27783
Worker Queue Time            766420             58964                  0            0            3            28           419          9380
Worker Handle Time           766420             58964                  11           12           418          5001         7845         21632
Total                        766420             58964                  11           24           13345        19319        26290        36121
Running experiment for throughput = 60000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '60000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           776095             59713                  0            0            8112         10411        16466        24929
Repeatable Handle Time       776095             59713                  0            2            43149        47831        57990        62502
Worker Queue Time            776095             59713                  0            0            14           58           760          17506
Worker Handle Time           776095             59713                  11           12           208          337          980          18800
Total                        776095             59713                  11           20           46436        50439        59469        67551
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3883               298                    0            0            9072         10755        17354        23867
Repeatable Handle Time       3883               298                    0            2            44521        46946        57331        60441
Worker Queue Time            3883               298                    0            0            24           66           420          864
Worker Handle Time           3883               298                    5001         5030         15302        17279        29483        33069
Total                        3883               298                    5002         5486         55410        59000        66906        74548
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           779978             60012                  0            0            8113         10413        16467        24929
Repeatable Handle Time       779978             60012                  0            2            43149        47826        57977        62502
Worker Queue Time            779978             60012                  0            0            14           58           758          17506
Worker Handle Time           779978             60012                  11           12           334          5001         6232         33069
Total                        779978             60012                  11           21           46473        50481        59562        74548
Running experiment for throughput = 61000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '61000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           587118             44716                  0            0            8968         12928        21770        26207
Repeatable Handle Time       587118             44716                  0            686          107211       117093       125136       3475140
Worker Queue Time            587118             44716                  0            0            6            36           439          141500
Worker Handle Time           587118             44716                  11           12           339          537          1262         344517
Total                        587118             44716                  11           879          109772       118098       125203       3571434
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           2957               225                    0            0            8506         11163        19446        21084
Repeatable Handle Time       2957               225                    0            645          112458       117693       125377       2378090
Worker Queue Time            2957               225                    0            0            19           45           869          18716
Worker Handle Time           2957               225                    5001         7258         15667        18605        820969       1160502
Total                        2957               225                    5002         8852         125676       128740       820974       3565706
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           590075             44941                  0            0            8964         12925        21769        26207
Repeatable Handle Time       590075             44941                  0            686          107242       117102       125145       3475140
Worker Queue Time            590075             44941                  0            0            6            36           443          141500
Worker Handle Time           590075             44941                  11           12           537          5188         9033         1160502
Total                        590075             44941                  11           909          109878       118131       125321       3571434
Running experiment for throughput = 62000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '62000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           771274             59333                  0            0            1937813      1993313      2038202      2047718
Repeatable Handle Time       771274             59333                  0            3224         1592108      2291349      2314346      2317930
Worker Queue Time            771274             59333                  0            0            4            44           442          143119
Worker Handle Time           771274             59333                  11           12           237          384          1089         520645
Total                        771274             59333                  12           3548         2276541      2301297      2317322      2319983
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3959               304                    0            0            1936638      1996806      2044955      2046340
Repeatable Handle Time       3959               304                    0            2732         1821508      2296248      2317157      2317441
Worker Queue Time            3959               304                    0            0            2            50           501          15232
Worker Handle Time           3959               304                    5001         5897         15402        17205        38023        366738
Total                        3959               304                    5002         9813         2286377      2315382      2324736      2326905
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           775233             59638                  0            0            1937813      1993338      2038244      2047718
Repeatable Handle Time       775233             59638                  0            3221         1592119      2291367      2314359      2317930
Worker Queue Time            775233             59638                  0            0            4            44           443          143119
Worker Handle Time           775233             59638                  11           12           389          5002         7315         520645
Total                        775233             59638                  12           3655         2276574      2301408      2317337      2326905
Running experiment for throughput = 63000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '63000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           743775             57204                  0            0            116864       136628       149909       158465
Repeatable Handle Time       743775             57204                  0            2418         1137754      1140626      1145132      1149533
Worker Queue Time            743775             57204                  0            0            4            42           829          25807
Worker Handle Time           743775             57204                  11           12           283          465          1218         32799
Total                        743775             57204                  12           2590         1139544      1141606      1145399      1150765
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3702               284                    0            0            110475       133101       146374       150255
Repeatable Handle Time       3702               284                    0            2403         1135955      1139337      1143755      1145715
Worker Queue Time            3702               284                    0            0            2            22           169          3007
Worker Handle Time           3702               284                    5001         8076         22798        28841        32708        45023
Total                        3702               284                    5005         11126        1148189      1150448      1155853      1159606
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           747477             57489                  0            0            116806       136613       149889       158465
Repeatable Handle Time       747477             57489                  0            2418         1137748      1140612      1145127      1149533
Worker Queue Time            747477             57489                  0            0            4            42           825          25807
Worker Handle Time           747477             57489                  11           12           460          5405         10251        45023
Total                        747477             57489                  12           2629         1139566      1141665      1145531      1159606
Running experiment for throughput = 64000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '64000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           828859             63765                  0            0            8543         12078        25527        34608
Repeatable Handle Time       828859             63765                  0            10           29942        43467        56652        64421
Worker Queue Time            828859             63765                  0            0            21           74           716          14526
Worker Handle Time           828859             63765                  11           12           219          360          998          15393
Total                        828859             63765                  11           50           34484        49327        61512        66351
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           4137               318                    0            0            8663         13058        24593        34327
Repeatable Handle Time       4137               318                    0            11           29669        38330        51669        57985
Worker Queue Time            4137               318                    0            0            8            71           366          1197
Worker Handle Time           4137               318                    5001         5340         13403        17401        25030        27965
Total                        4137               318                    5002         6017         40397        55982        65020        73683
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           832996             64084                  0            0            8543         12083        25520        34608
Repeatable Handle Time       832996             64084                  0            10           29940        43460        56615        64421
Worker Queue Time            832996             64084                  0            0            21           74           714          14526
Worker Handle Time           832996             64084                  11           12           358          5001         6585         27965
Total                        832996             64084                  11           52           34546        49358        61582        73683
Running experiment for throughput = 65000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '65000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           839907             64612                  0            0            6205         8621         14564        23076
Repeatable Handle Time       839907             64612                  0            650          36270        38917        46664        49473
Worker Queue Time            839907             64612                  0            0            12           51           386          10190
Worker Handle Time           839907             64612                  11           12           227          364          954          13564
Total                        839907             64612                  12           932          37225        40966        47465        55105
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           4211               323                    0            0            5572         7961         11704        21346
Repeatable Handle Time       4211               323                    0            736          36689        38867        46569        49074
Worker Queue Time            4211               323                    0            0            6            29           229          3058
Worker Handle Time           4211               323                    5006         8147         16749        18460        29181        49198
Total                        4211               323                    5008         9928         46621        52712        59556        66268
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           844118             64936                  0            0            6201         8617         14561        23076
Repeatable Handle Time       844118             64936                  0            651          36272        38915        46654        49473
Worker Queue Time            844118             64936                  0            0            12           51           384          10190
Worker Handle Time           844118             64936                  11           12           362          5301         9689         49198
Total                        844118             64936                  12           962          37253        41129        47512        66268
Running experiment for throughput = 66000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '66000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           853837             65687                  0            0            5543         8557         12610        18483
Repeatable Handle Time       853837             65687                  0            0            22815        36101        49108        52033
Worker Queue Time            853837             65687                  0            0            11           45           393          11981
Worker Handle Time           853837             65687                  11           12           226          362          897          12524
Total                        853837             65687                  12           17           25050        36750        50416        52972
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           4222               324                    0            0            6142         9009         11126        15474
Repeatable Handle Time       4222               324                    0            1            21964        34738        45474        50896
Worker Queue Time            4222               324                    0            0            2            31           175          1347
Worker Handle Time           4222               324                    5001         5274         14624        16863        19059        25774
Total                        4222               324                    5002         5703         32130        41769        59512        67773
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           858059             66012                  0            0            5547         8564         12601        18483
Repeatable Handle Time       858059             66012                  0            0            22816        36089        49106        52033
Worker Queue Time            858059             66012                  0            0            11           45           393          11981
Worker Handle Time           858059             66012                  11           12           357          2975         6238         25774
Total                        858059             66012                  12           17           25091        36761        50456        67773
Running experiment for throughput = 67000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '67000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           866166             66642                  0            0            2458         6469         9828         11886
Repeatable Handle Time       866166             66642                  0            4            16161        18818        22276        24318
Worker Queue Time            866166             66642                  0            0            2            19           102          11696
Worker Handle Time           866166             66642                  11           12           235          379          902          12899
Total                        866166             66642                  12           26           17216        19742        22493        26755
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           4241               326                    0            0            4422         6580         9883         11306
Repeatable Handle Time       4241               326                    0            3            16268        18556        21875        23059
Worker Queue Time            4241               326                    0            0            2            22           150          1165
Worker Handle Time           4241               326                    5001         7454         12944        18909        21096        57415
Total                        4241               326                    5002         8122         25807        28452        30604        57416
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           870407             66968                  0            0            2464         6470         9831         11886
Repeatable Handle Time       870407             66968                  0            4            16161        18817        22276        24318
Worker Queue Time            870407             66968                  0            0            2            19           103          11696
Worker Handle Time           870407             66968                  11           12           372          1834         8541         57415
Total                        870407             66968                  12           27           17358        19865        22610        57416
Running experiment for throughput = 68000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '68000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           878950             67621                  0            0            2518         5613         9627         14984
Repeatable Handle Time       878950             67621                  0            0            9242         11109        16527        19069
Worker Queue Time            878950             67621                  0            0            3            23           143          17180
Worker Handle Time           878950             67621                  11           12           218          348          858          13543
Total                        878950             67621                  12           15           11228        13428        19346        22219
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           4458               342                    0            0            2349         6624         10490        12749
Repeatable Handle Time       4458               342                    0            0            9129         10767        13865        17253
Worker Queue Time            4458               342                    0            0            1            17           350          1396
Worker Handle Time           4458               342                    5001         5223         10304        14050        18162        38420
Total                        4458               342                    5002         5505         18090        19632        25552        38421
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           883408             67964                  0            0            2518         5615         9635         14984
Repeatable Handle Time       883408             67964                  0            0            9242         11107        16522        19069
Worker Queue Time            883408             67964                  0            0            3            23           145          17180
Worker Handle Time           883408             67964                  11           12           349          5001         6111         38420
Total                        883408             67964                  12           15           11290        13497        19428        38421
Running experiment for throughput = 69000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '69000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           890927             68540                  0            0            4759         8324         17639        25715
Repeatable Handle Time       890927             68540                  0            20           19498        24148        33171        35848
Worker Queue Time            890927             68540                  0            0            1            14           98           14990
Worker Handle Time           890927             68540                  11           12           213          338          841          14968
Total                        890927             68540                  12           58           22149        26323        33226        36195
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           4499               346                    0            0            4011         7375         17870        25321
Repeatable Handle Time       4499               346                    0            22           20312        23638        31652        34085
Worker Queue Time            4499               346                    0            0            1            8            60           1766
Worker Handle Time           4499               346                    5001         7317         12582        15178        19740        20447
Total                        4499               346                    5002         8147         29848        34218        41124        42590
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           895426             68886                  0            0            4750         8320         17636        25715
Repeatable Handle Time       895426             68886                  0            20           19500        24142        33166        35848
Worker Queue Time            895426             68886                  0            0            1            14           98           14990
Worker Handle Time           895426             68886                  11           12           338          5002         8476         20447
Total                        895426             68886                  12           60           22226        26374        33346        42590
Running experiment for throughput = 70000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '70000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           904579             69590                  0            0            4594         7569         15670        28215
Repeatable Handle Time       904579             69590                  0            0            17122        33048        43046        46481
Worker Queue Time            904579             69590                  0            0            2            22           132          29775
Worker Handle Time           904579             69590                  11           12           208          333          840          19900
Total                        904579             69590                  12           16           19986        35236        45852        56252
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           4677               359                    0            0            5428         7717         22069        27168
Repeatable Handle Time       4677               359                    0            1            14521        38447        45110        46180
Worker Queue Time            4677               359                    0            0            1            13           179          1226
Worker Handle Time           4677               359                    5001         5405         11961        15651        18959        28137
Total                        4677               359                    5002         5841         28498        47284        53275        61937
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           909256             69949                  0            0            4596         7570         15676        28215
Repeatable Handle Time       909256             69949                  0            0            17113        33048        43055        46481
Worker Queue Time            909256             69949                  0            0            2            22           132          29775
Worker Handle Time           909256             69949                  11           12           338          5001         6366         28137
Total                        909256             69949                  12           16           20019        35274        45868        61937
Running experiment for throughput = 71000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '71000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           918489             70657                  0            0            2075         4698         10090        15766
Repeatable Handle Time       918489             70657                  0            4            20488        23343        29507        34262
Worker Queue Time            918489             70657                  0            0            1            15           104          11377
Worker Handle Time           918489             70657                  11           12           183          297          900          14348
Total                        918489             70657                  12           21           21859        25033        29552        34462
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           4515               347                    0            0            2238         5259         9953         13342
Repeatable Handle Time       4515               347                    0            3            20570        22977        29595        32206
Worker Queue Time            4515               347                    0            0            1            9            54           1899
Worker Handle Time           4515               347                    5001         7289         11967        13094        19960        21503
Total                        4515               347                    5002         7842         29684        33052        38653        41321
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           923004             71005                  0            0            2075         4698         10090        15766
Repeatable Handle Time       923004             71005                  0            4            20488        23338        29507        34262
Worker Queue Time            923004             71005                  0            0            1            15           103          11377
Worker Handle Time           923004             71005                  11           12           293          1977         8249         21503
Total                        923004             71005                  12           21           21947        25114        29588        41321
Running experiment for throughput = 72000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '72000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           930152             71554                  0            0            3391         5200         9739         13720
Repeatable Handle Time       930152             71554                  0            2            9494         10785        14364        17705
Worker Queue Time            930152             71554                  0            0            1            14           81           16457
Worker Handle Time           930152             71554                  11           12           210          328          817          11813
Total                        930152             71554                  12           17           11138        12879        15600        17802
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           4655               358                    0            0            3351         4907         9964         12000
Repeatable Handle Time       4655               358                    0            3            8881         10059        13990        16197
Worker Queue Time            4655               358                    0            0            1            22           136          1017
Worker Handle Time           4655               358                    5001         5487         9857         14531        17664        20163
Total                        4655               358                    5002         5886         17696        19270        21331        23047
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           934807             71912                  0            0            3390         5200         9750         13720
Repeatable Handle Time       934807             71912                  0            2            9491         10784        14364        17705
Worker Queue Time            934807             71912                  0            0            1            14           81           16457
Worker Handle Time           934807             71912                  11           12           327          4197         6283         20163
Total                        934807             71912                  12           17           11217        12992        15776        23047
Running experiment for throughput = 73000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '73000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           936884             72077                  0            0            1128433      1186782      1231779      1243227
Repeatable Handle Time       936884             72077                  0            217756       1388951      1416405      1446423      1460813
Worker Queue Time            936884             72077                  0            0            1            2            56           112989
Worker Handle Time           936884             72077                  11           12           199          332          954          291851
Total                        936884             72077                  12           230110       1432886      1449452      1457650      1461294
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           4723               363                    0            0            1102455      1170167      1236867      1242572
Repeatable Handle Time       4723               363                    0            214128       1379661      1414077      1446896      1460377
Worker Queue Time            4723               363                    0            0            1            12           64           12471
Worker Handle Time           4723               363                    5002         8003         18494        20875        92015        1253033
Total                        4723               363                    5003         234399       1439556      1456493      1464464      1469149
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           941607             72440                  0            0            1128405      1186782      1231788      1243227
Repeatable Handle Time       941607             72440                  0            217753       1388774      1416393      1446423      1460813
Worker Queue Time            941607             72440                  0            0            1            2            56           112989
Worker Handle Time           941607             72440                  11           12           331          5926         9002         1253033
Total                        941607             72440                  12           230209       1432888      1449475      1457663      1469149
Running experiment for throughput = 74000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '74000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           956847             73612                  0            0            3326         6653         10779        18370
Repeatable Handle Time       956847             73612                  0            0            11819        14359        20690        23860
Worker Queue Time            956847             73612                  0            0            1            19           106          9875
Worker Handle Time           956847             73612                  11           12           210          336          853          20459
Total                        956847             73612                  12           16           14162        17729        21318        24149
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           4679               359                    0            0            4577         7596         10621        17750
Repeatable Handle Time       4679               359                    0            0            12223        13656        20837        23494
Worker Queue Time            4679               359                    0            0            2            17           291          1326
Worker Handle Time           4679               359                    5001         5178         10068        15268        18188        37925
Total                        4679               359                    5002         5587         20314        24010        28754        37926
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           961526             73972                  0            0            3330         6656         10775        18370
Repeatable Handle Time       961526             73972                  0            0            11819        14355        20690        23860
Worker Queue Time            961526             73972                  0            0            1            19           106          9875
Worker Handle Time           961526             73972                  11           12           329          1716         6011         37925
Total                        961526             73972                  12           16           14205        17789        21365        37926
Running experiment for throughput = 75000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '75000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           969970             74625                  0            0            3157         7237         11705        18998
Repeatable Handle Time       969970             74625                  0            116          30411        33160        36978        39764
Worker Queue Time            969970             74625                  0            0            1            15           95           19072
Worker Handle Time           969970             74625                  11           12           193          317          833          14071
Total                        969970             74625                  12           154          30544        33248        37361        39813
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           4858               373                    0            0            4501         7675         11420        17296
Repeatable Handle Time       4858               373                    0            117          29949        33036        36531        38807
Worker Queue Time            4858               373                    0            0            1            13           121          941
Worker Handle Time           4858               373                    5001         7605         13386        16643        20028        24278
Total                        4858               373                    5002         8500         39101        42517        44980        49019
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           974828             74999                  0            0            3162         7243         11699        18998
Repeatable Handle Time       974828             74999                  0            116          30407        33160        36978        39764
Worker Queue Time            974828             74999                  0            0            1            15           95           19072
Worker Handle Time           974828             74999                  11           12           315          5001         8473         24278
Total                        974828             74999                  12           167          30603        33280        37446        49019
Running experiment for throughput = 76000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '76000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           982644             75594                  0            0            7400         9679         15681        20721
Repeatable Handle Time       982644             75594                  0            269          211385       229271       236137       240308
Worker Queue Time            982644             75594                  0            0            4            35           291          11829
Worker Handle Time           982644             75594                  11           12           220          366          930          13592
Total                        982644             75594                  12           450          212890       230311       237355       240329
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           4991               383                    0            0            6727         9044         13903        20506
Repeatable Handle Time       4991               383                    0            334          216508       230376       236480       238327
Worker Queue Time            4991               383                    0            0            1            42           671          10948
Worker Handle Time           4991               383                    5001         5857         14471        16836        23331        28922
Total                        4991               383                    5002         7146         227286       238561       243813       246343
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           987635             75978                  0            0            7395         9678         15681        20721
Repeatable Handle Time       987635             75978                  0            269          211393       229278       236138       240308
Worker Queue Time            987635             75978                  0            0            4            35           292          11829
Worker Handle Time           987635             75978                  11           12           367          5002         6929         28922
Total                        987635             75978                  12           472          212946       230326       237392       246343
Running experiment for throughput = 77000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '77000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           996179             76633                  0            0            5496         7676         13173        24541
Repeatable Handle Time       996179             76633                  0            8681         163474       166461       170865       175287
Worker Queue Time            996179             76633                  0            0            1            14           144          11088
Worker Handle Time           996179             76633                  11           12           228          374          1003         31344
Total                        996179             76633                  12           8973         163608       166618       170961       175330
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           4967               382                    0            0            6279         8991         16674        23885
Repeatable Handle Time       4967               382                    0            8394         164030       166665       171039       173279
Worker Queue Time            4967               382                    0            0            1            11           255          611
Worker Handle Time           4967               382                    5013         8356         17930        19999        25778        27521
Total                        4967               382                    5241         17947        172869       175202       179337       181692
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1001146            77015                  0            0            5499         7683         13179        24541
Repeatable Handle Time       1001146            77015                  0            8680         163474       166461       170859       175287
Worker Queue Time            1001146            77015                  0            0            1            14           144          11088
Worker Handle Time           1001146            77015                  11           12           370          5271         9636         31344
Total                        1001146            77015                  12           9059         163681       166707       170996       181692
Running experiment for throughput = 78000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '78000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1007811            77528                  0            0            5972         8661         11783        16639
Repeatable Handle Time       1007811            77528                  0            113          42252        50061        57456        59934
Worker Queue Time            1007811            77528                  0            0            4            32           262          12953
Worker Handle Time           1007811            77528                  11           12           201          331          935          15565
Total                        1007811            77528                  12           200          42662        51049        57915        65049
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           5069               389                    0            0            5753         8071         11264        14894
Repeatable Handle Time       5069               389                    0            116          40479        47892        57624        59244
Worker Queue Time            5069               389                    0            0            1            46           939          5331
Worker Handle Time           5069               389                    5001         5799         12681        15544        18387        50392
Total                        5069               389                    5002         6737         47794        54760        64178        66007
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1012880            77917                  0            0            5972         8660         11778        16639
Repeatable Handle Time       1012880            77917                  0            113          42232        50053        57456        59934
Worker Queue Time            1012880            77917                  0            0            4            32           263          12953
Worker Handle Time           1012880            77917                  11           12           331          5001         6822         50392
Total                        1012880            77917                  12           212          42779        51067        57931        66007
Running experiment for throughput = 79000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '79000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1020069            78479                  0            0            4076         5742         10365        16774
Repeatable Handle Time       1020069            78479                  0            17845        146272       149661       159092       162544
Worker Queue Time            1020069            78479                  0            0            1            15           97           10808
Worker Handle Time           1020069            78479                  11           12           228          380          1049         11842
Total                        1020069            78479                  12           18019        146692       150398       159132       163057
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           5088               391                    0            0            4170         6392         10467        16753
Repeatable Handle Time       5088               391                    0            17489        143710       148543       158414       162049
Worker Queue Time            5088               391                    0            0            1            24           155          1520
Worker Handle Time           5088               391                    5139         8397         15562        16826        21417        33968
Total                        5088               391                    5145         26378        153539       160283       166720       173144
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1025157            78871                  0            0            4077         5746         10369        16774
Repeatable Handle Time       1025157            78871                  0            17844        146264       149656       159091       162544
Worker Queue Time            1025157            78871                  0            0            1            15           97           10808
Worker Handle Time           1025157            78871                  11           12           377          4881         9734         33968
Total                        1025157            78871                  12           18077        146708       150424       159379       173144
Running experiment for throughput = 80000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '80000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1034839            79609                  0            0            6876         10387        19631        27622
Repeatable Handle Time       1034839            79609                  0            158          111351       119742       124770       127972
Worker Queue Time            1034839            79609                  0            0            1            15           96           18124
Worker Handle Time           1034839            79609                  11           12           223          352          859          13580
Total                        1034839            79609                  12           265          117008       122386       125231       128203
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           5299               407                    0            0            6805         9981         18982        25199
Repeatable Handle Time       5299               407                    0            140          111196       119459       124512       127673
Worker Queue Time            5299               407                    0            0            1            17           139          2704
Worker Handle Time           5299               407                    5001         5652         11044        14890        20400        29627
Total                        5299               407                    5002         6522         124191       128321       131530       134139
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1040138            80017                  0            0            6876         10384        19608        27622
Repeatable Handle Time       1040138            80017                  0            158          111345       119739       124768       127972
Worker Queue Time            1040138            80017                  0            0            1            15           97           18124
Worker Handle Time           1040138            80017                  11           12           355          5001         6460         29627
Total                        1040138            80017                  12           284          117033       122430       125279       134139
Running ghOSt experiments...
Output Directory: /tmp/ghost_data/2023-11-17 04:47:47
{"throughputs": [10000, 20000, 30000, 40000, 50000, 60000, 70000, 80000, 90000, 100000, 110000, 120000, 130000, 140000, 141000, 142000, 143000, 144000, 145000, 146000, 147000, 148000, 149000, 150000], "output_prefix": "/tmp/ghost_data/2023-11-17 04:47:47", "binaries": {"rocksdb": "/dev/shm/rocksdb", "antagonist": "/dev/shm/antagonist", "ghost": "/dev/shm/agent_shinjuku"}, "rocksdb": {"print_format": "pretty", "print_distribution": false, "print_ns": false, "print_get": true, "print_range": true, "rocksdb_db_path": "/dev/shm/orch_db", "throughput": 20000, "range_query_ratio": 0.005, "load_generator_cpus": 10, "cfs_dispatcher_cpus": 11, "num_workers": 200, "worker_cpus": [], "cfs_wait_type": "spin", "ghost_wait_type": "prio_table", "get_duration": "10us", "range_duration": "5000us", "get_exponential_mean": "0us", "batch": 1, "experiment_duration": "15s", "discard_duration": "2s", "scheduler": "ghost", "ghost_qos": 2}, "antagonist": null, "ghost": {"firstcpu": 11, "globalcpu": 11, "ncpus": 7, "preemption_time_slice": "30us"}}
Running experiment for throughput = 10000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '10000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           129465             9958                   0            2            5937         8476         12939        17617
Repeatable Handle Time       129465             9958                   0            0            4            4            4            989
Worker Queue Time            129465             9958                   0            127          12385        15006        24187        33713
Worker Handle Time           129465             9958                   11           102          4512         6283         12702        57976
Total                        129465             9958                   12           788          17428        21004        30254        60716
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           663                50                     0            2            6047         8691         12241        12241
Repeatable Handle Time       663                50                     0            0            4            4            4            4
Worker Queue Time            663                50                     0            131          12036        14534        31773        31773
Worker Handle Time           663                50                     5002         11119        32817        38656        57936        57936
Total                        663                50                     5004         13248        40746        42791        57937        57937
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           130128             10009                  0            2            5937         8476         12929        17617
Repeatable Handle Time       130128             10009                  0            0            4            4            4            989
Worker Queue Time            130128             10009                  0            127          12346        14980        24187        33713
Worker Handle Time           130128             10009                  11           104          6013         9423         19605        57976
Total                        130128             10009                  12           810          18050        21755        31401        60716
Running experiment for throughput = 20000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '20000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           259335             19947                  0            1            6938         10149        13278        15938
Repeatable Handle Time       259335             19947                  0            0            4            4            4            1321
Worker Queue Time            259335             19947                  0            80           20676        25525        34057        74060
Worker Handle Time           259335             19947                  11           37           6217         9968         18081        76759
Total                        259335             19947                  12           189          24813        29347        39012        76762
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1343               103                    0            1            7204         10648        13157        13491
Repeatable Handle Time       1343               103                    0            0            4            4            4            5
Worker Queue Time            1343               103                    0            79           24803        30050        43299        69495
Worker Handle Time           1343               103                    5002         10314        42755        53297        77304        81455
Total                        1343               103                    5003         12677        51112        64663        78741        81591
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           260678             20050                  0            1            6938         10149        13278        15938
Repeatable Handle Time       260678             20050                  0            0            4            4            4            1321
Worker Queue Time            260678             20050                  0            80           20688        25561        34057        74060
Worker Handle Time           260678             20050                  11           38           8180         12450        22601        81455
Total                        260678             20050                  12           191          25172        29975        39615        81591
Running experiment for throughput = 30000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '30000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           387869             29835                  0            1            5495         8292         11631        14769
Repeatable Handle Time       387869             29835                  0            0            4            4            4            547
Worker Queue Time            387869             29835                  0            48           23132        33174        57440        173930
Worker Handle Time           387869             29835                  11           15           6658         11508        25315        175524
Total                        387869             29835                  12           106          26599        37491        62143        175527
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1896               145                    0            1            4380         7827         10536        11995
Repeatable Handle Time       1896               145                    0            0            4            4            4            1038
Worker Queue Time            1896               145                    0            47           24010        39256        55642        105575
Worker Handle Time           1896               145                    5002         16351        108090       144242       207102       212411
Total                        1896               145                    5003         17933        114561       149745       207104       212412
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           389765             29981                  0            1            5494         8292         11630        14769
Repeatable Handle Time       389765             29981                  0            0            4            4            4            1038
Worker Queue Time            389765             29981                  0            48           23140        33201        57415        173930
Worker Handle Time           389765             29981                  11           15           9631         17195        42154        212411
Total                        389765             29981                  12           107          28725        40506        64891        212412
Running experiment for throughput = 40000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '40000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           516267             39711                  0            1            11994        15629        20235        22516
Repeatable Handle Time       516267             39711                  0            0            4            4            4            2488
Worker Queue Time            516267             39711                  0            1            34137        53387        135248       612530
Worker Handle Time           516267             39711                  11           14           5865         11804        40872        581534
Total                        516267             39711                  12           98           40468        58987        164115       613504
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           2481               190                    0            1            11688        15884        21367        22485
Repeatable Handle Time       2481               190                    0            0            4            4            4            4
Worker Queue Time            2481               190                    0            1            34765        58951        165656       208632
Worker Handle Time           2481               190                    5002         16179        188817       284782       580521       600973
Total                        2481               190                    5003         17525        204280       308054       587517       601552
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           518748             39902                  0            1            11992        15629        20243        22516
Repeatable Handle Time       518748             39902                  0            0            4            4            4            2488
Worker Queue Time            518748             39902                  0            1            34160        53434        136318       612530
Worker Handle Time           518748             39902                  11           14           8939         17661        59573        600973
Total                        518748             39902                  12           99           43299        61298        167211       613504
Running experiment for throughput = 50000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '50000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           645872             49681                  0            21           54163        75252        90027        93687
Repeatable Handle Time       645872             49681                  0            0            4            4            4            570
Worker Queue Time            645872             49681                  0            0            7014         16579        299118       4550073
Worker Handle Time           645872             49681                  11           14           1234         2542         15686        4421003
Total                        645872             49681                  12           285          59532        81163        353972       4550126
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3367               258                    0            40           51376        72478        84398        91034
Repeatable Handle Time       3367               258                    0            0            4            4            4            72
Worker Queue Time            3367               258                    0            0            6235         13915        337997       3085606
Worker Handle Time           3367               258                    7706         29346        1600510      2152412      3184538      6415217
Total                        3367               258                    11276        33413        1605170      2311342      4395174      6415219
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           649239             49940                  0            21           54160        75249        90021        93687
Repeatable Handle Time       649239             49940                  0            0            4            4            4            570
Worker Queue Time            649239             49940                  0            0            7011         16578        299353       4550073
Worker Handle Time           649239             49940                  11           14           2643         21534        98066        6415217
Total                        649239             49940                  12           300          66187        84910        449405       6415219
Running experiment for throughput = 60000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '60000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           776479             59727                  0            3            29518        32805        37937        41586
Repeatable Handle Time       776479             59727                  0            0            4            4            4            12125
Worker Queue Time            776479             59727                  0            0            8043         26700        519803       3200469
Worker Handle Time           776479             59727                  11           14           1197         2597         30984        3775131
Total                        776479             59727                  12           152          33778        48218        529817       3775133
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3948               303                    0            3            29504        32081        35800        39491
Repeatable Handle Time       3948               303                    0            0            4            4            5            45
Worker Queue Time            3948               303                    0            0            9202         27714        383854       3183720
Worker Handle Time           3948               303                    5002         20359        913465       1137983      3394374      3763570
Total                        3948               303                    5230         24853        920625       1159068      3394376      3763680
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           780427             60031                  0            3            29518        32803        37914        41586
Repeatable Handle Time       780427             60031                  0            0            4            4            4            12125
Worker Queue Time            780427             60031                  0            0            8055         26718        519038       3200469
Worker Handle Time           780427             60031                  11           14           2620         16687        116413       3775131
Total                        780427             60031                  12           156          35767        68436        581755       3775133
Running experiment for throughput = 70000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '70000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           795878             61220                  241162       950304       1546537      1556510      1588953      1590657
Repeatable Handle Time       795878             61220                  0            0            4            4            4            604
Worker Queue Time            795878             61220                  0            0            23           110          13624        1013348
Worker Handle Time           795878             61220                  11           13           784          1258         4520         3120076
Total                        795878             61220                  241189       950434       1546664      1556985      1589186      4273502
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           4060               312                    241388       927891       1545883      1553217      1585199      1589965
Repeatable Handle Time       4060               312                    0            0            4            4            4            31
Worker Queue Time            4060               312                    0            0            17           78           2371         20054
Worker Handle Time           4060               312                    5360         24540        555022       911916       2954796      10913155
Total                        4060               312                    264475       975792       1709451      2052227      3672525      11260680
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           799938             61532                  241162       950227       1546535      1556505      1588950      1590657
Repeatable Handle Time       799938             61532                  0            0            4            4            4            604
Worker Queue Time            799938             61532                  0            0            23           110          13535        1013348
Worker Handle Time           799938             61532                  11           13           1267         17845        48006        10913155
Total                        799938             61532                  241189       950507       1546893      1562474      1589574      11260680
Running experiment for throughput = 80000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '80000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1029703            79200                  0            58659        156209       160960       167226       169397
Repeatable Handle Time       1029703            79200                  0            0            4            4            4            2668
Worker Queue Time            1029703            79200                  0            0            71           185          21725        2638968
Worker Handle Time           1029703            79200                  11           13           638          1081         3802         2641270
Total                        1029703            79200                  12           58836        156664       161363       168400       2740147
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           5322               409                    0            58114        153890       160090       165720       169307
Repeatable Handle Time       5322               409                    0            0            4            4            4            5
Worker Queue Time            5322               409                    0            0            65           149          20292        384520
Worker Handle Time           5322               409                    5002         17763        484531       1149162      2659004      8371713
Total                        5322               409                    8768         84710        547187       1216300      2705968      8422380
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1035025            79610                  0            58656        156203       160956       167225       169397
Repeatable Handle Time       1035025            79610                  0            0            4            4            4            2668
Worker Queue Time            1035025            79610                  0            0            71           184          21725        2638968
Worker Handle Time           1035025            79610                  11           13           1095         13242        36694        8371713
Total                        1035025            79610                  12           58989        157206       161616       169312       8422380
Running experiment for throughput = 90000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '90000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           821716             63210                  672037       2296166      3794858      3809933      3826255      3829012
Repeatable Handle Time       821716             63210                  0            0            4            4            4            6193
Worker Queue Time            821716             63210                  0            0            80           1115         25751        2038776
Worker Handle Time           821716             63210                  11           13           627          1057         3392         4367156
Total                        821716             63210                  672065       2296262      3794995      3810006      3826702      7161060
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           4128               317                    672122       2261917      3795222      3819019      3823171      3828939
Repeatable Handle Time       4128               317                    0            0            4            4            29           1240
Worker Queue Time            4128               317                    0            0            108          1461         15635        2036556
Worker Handle Time           4128               317                    5641         25764        722960       1080615      2945717      4467239
Total                        4128               317                    695067       2312072      3897868      4087343      6052207      7204844
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           825844             63527                  672037       2296118      3794859      3809933      3826228      3829012
Repeatable Handle Time       825844             63527                  0            0            4            4            4            6193
Worker Queue Time            825844             63527                  0            0            80           1121         25778        2038776
Worker Handle Time           825844             63527                  11           13           1053         16749        53421        4467239
Total                        825844             63527                  672065       2296268      3795080      3810047      3827120      7204844
Running experiment for throughput = 100000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '100000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           868384             66796                  486066       2363510      4239251      4252407      4265253      4272707
Repeatable Handle Time       868384             66796                  0            0            4            4            5            3578
Worker Queue Time            868384             66796                  0            0            547          5955         41971        2087692
Worker Handle Time           868384             66796                  11           13           858          1569         6223         2281534
Total                        868384             66796                  486079       2364336      4239361      4252462      4265336      6056677
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           4489               345                    486108       2354895      4238827      4256381      4265497      4271726
Repeatable Handle Time       4489               345                    0            0            4            4            5            40
Worker Queue Time            4489               345                    0            0            630          6677         28572        229731
Worker Handle Time           4489               345                    5079         20115        841117       2011816      6738096      7110999
Total                        4489               345                    498469       2426020      4322917      4690673      8961496      9202826
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           872873             67141                  486066       2363454      4239249      4252412      4265255      4272707
Repeatable Handle Time       872873             67141                  0            0            4            4            5            3578
Worker Queue Time            872873             67141                  0            0            548          5962         42145        2087692
Worker Handle Time           872873             67141                  11           13           1605         13662        47882        7110999
Total                        872873             67141                  486079       2364362      4239453      4252583      4265451      9202826
Running experiment for throughput = 110000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '110000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           732682             56357                  1411988      3875126      6231598      6268054      6295752      6297073
Repeatable Handle Time       732682             56357                  0            0            4            4            4            1264
Worker Queue Time            732682             56357                  0            0            20           112          23392        2446893
Worker Handle Time           732682             56357                  11           13           762          1220         4175         2374307
Total                        732682             56357                  1412002      3875204      6231722      6268202      6295921      7018156
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3687               283                    1412014      3834270      6231706      6266632      6293725      6296889
Repeatable Handle Time       3687               283                    0            0            4            4            4            4
Worker Queue Time            3687               283                    0            0            72           151          20860        107709
Worker Handle Time           3687               283                    6101         24914        781590       1475506      3635763      5431105
Total                        3687               283                    1430540      3902330      6368346      6488324      6988597      8858324
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           736369             56641                  1411988      3875115      6231598      6268048      6295726      6297073
Repeatable Handle Time       736369             56641                  0            0            4            4            4            1264
Worker Queue Time            736369             56641                  0            0            20           112          23392        2446893
Worker Handle Time           736369             56641                  11           13           1218         17849        55588        5431105
Total                        736369             56641                  1412002      3875210      6231756      6268297      6296000      8858324
Running experiment for throughput = 120000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '120000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           934198             71855                  963431       3035643      5065334      5135309      5168097      5169691
Repeatable Handle Time       934198             71855                  0            0            4            4            4            4220
Worker Queue Time            934198             71855                  0            0            45           314          30390        2276584
Worker Handle Time           934198             71855                  11           13           691          1179         4103         3000396
Total                        934198             71855                  963445       3035750      5065484      5138211      5168292      6923254
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           4700               361                    963541       2975330      5041506      5125286      5168274      5168612
Repeatable Handle Time       4700               361                    0            0            4            4            4            4
Worker Queue Time            4700               361                    0            0            18           235          16451        1021016
Worker Handle Time           4700               361                    5001         18112        511321       766212       3297693      7165322
Total                        4700               361                    977564       3033955      5133644      5194358      6944629      9508805
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           938898             72216                  963431       3035620      5065318      5135307      5168102      5169691
Repeatable Handle Time       938898             72216                  0            0            4            4            4            4220
Worker Queue Time            938898             72216                  0            0            45           313          30339        2276584
Worker Handle Time           938898             72216                  11           13           1175         13130        40108        7165322
Total                        938898             72216                  963445       3035746      5065507      5138242      5168302      9508805
Running experiment for throughput = 130000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '130000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           696462             53568                  2249721      5069199      7526141      7571111      7618962      7630660
Repeatable Handle Time       696462             53568                  0            0            4            4            4            533
Worker Queue Time            696462             53568                  0            0            18           96           15522        1437049
Worker Handle Time           696462             53568                  11           13           693          1135         3560         478928
Total                        696462             53568                  2249753      5069228      7526198      7571189      7619008      7661456
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3474               267                    2250435      5039345      7547384      7569012      7618515      7623611
Repeatable Handle Time       3474               267                    0            0            4            4            5            65
Worker Queue Time            3474               267                    0            0            16           56           20708        179320
Worker Handle Time           3474               267                    13390        24887        599666       1008521      3201217      8754543
Total                        3474               267                    2270992      5084095      7635566      7706117      9129578      12089813
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           699936             53835                  2249721      5069182      7526180      7571109      7618959      7630660
Repeatable Handle Time       699936             53835                  0            0            4            4            4            533
Worker Queue Time            699936             53835                  0            0            18           96           15612        1437049
Worker Handle Time           699936             53835                  11           13           1128         17401        49853        8754543
Total                        699936             53835                  2249753      5069237      7526496      7573016      7619022      12089813
Running experiment for throughput = 140000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '140000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           871401             67028                  1607657      4044651      6698643      6723766      6738866      6744324
Repeatable Handle Time       871401             67028                  0            0            4            4            4            924
Worker Queue Time            871401             67028                  0            0            23           139          26911        8087430
Worker Handle Time           871401             67028                  11           13           735          1190         3990         8086324
Total                        871401             67028                  1607669      4044736      6698706      6723851      6738914      11207562
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           4317               332                    1607671      4122389      6700027      6724070      6739322      6743371
Repeatable Handle Time       4317               332                    0            0            4            4            4            28
Worker Queue Time            4317               332                    0            0            61           219          14447        37692
Worker Handle Time           4317               332                    5003         18004        584238       844005       7337420      8184249
Total                        4317               332                    1621178      4170475      6751213      6779097      10758069     11284986
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           875718             67360                  1607657      4044688      6698644      6723766      6738867      6744324
Repeatable Handle Time       875718             67360                  0            0            4            4            4            924
Worker Queue Time            875718             67360                  0            0            24           139          26893        8087430
Worker Handle Time           875718             67360                  11           13           1175         13219        37217        8184249
Total                        875718             67360                  1607669      4044782      6698735      6723870      6738924      11284986
Running experiment for throughput = 141000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '141000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           697032             53616                  2224958      5138065      7931545      7980823      7998216      8031598
Repeatable Handle Time       697032             53616                  0            0            4            4            4            2243
Worker Queue Time            697032             53616                  0            0            21           123          27331        1145903
Worker Handle Time           697032             53616                  11           13           756          1222         3986         2366219
Total                        697032             53616                  2224971      5138166      7931622      7981008      7998297      8364895
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3376               259                    2225005      5124093      7933592      7980453      7998308      8021056
Repeatable Handle Time       3376               259                    0            0            4            4            4            40
Worker Queue Time            3376               259                    0            0            19           183          25494        485863
Worker Handle Time           3376               259                    5407         24744        875590       1447308      2415528      4783347
Total                        3376               259                    2242794      5168177      8034053      8107751      8582362      9207195
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           700408             53875                  2224958      5138029      7931547      7980823      7998217      8031598
Repeatable Handle Time       700408             53875                  0            0            4            4            4            2243
Worker Queue Time            700408             53875                  0            0            21           123          27331        1145903
Worker Handle Time           700408             53875                  11           13           1188         16224        51175        4783347
Total                        700408             53875                  2224971      5138237      7931674      7981347      7998349      9207195
Running experiment for throughput = 142000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '142000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           894223             68784                  1540244      4028714      6622371      6646454      6656155      6678868
Repeatable Handle Time       894223             68784                  0            0            4            4            4            2831
Worker Queue Time            894223             68784                  0            0            17           92           24691        2769332
Worker Handle Time           894223             68784                  11           13           624          1039         3248         3121909
Total                        894223             68784                  1540257      4028805      6622496      6646532      6656226      8241350
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           4483               344                    1540285      4050189      6622772      6645811      6655452      6678392
Repeatable Handle Time       4483               344                    0            0            4            4            4            41
Worker Queue Time            4483               344                    0            0            18           63           2125         17827
Worker Handle Time           4483               344                    5008         18047        520609       949092       2478832      6462056
Total                        4483               344                    1554124      4093092      6657350      6705741      8096764      10194473
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           898706             69129                  1540244      4028758      6622371      6646450      6656155      6678868
Repeatable Handle Time       898706             69129                  0            0            4            4            4            2831
Worker Queue Time            898706             69129                  0            0            17           92           24479        2769332
Worker Handle Time           898706             69129                  11           13           1033         13181        36475        6462056
Total                        898706             69129                  1540257      4028925      6622534      6646555      6656237      10194473
Running experiment for throughput = 143000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '143000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           689238             53016                  2460774      5239121      8093549      8119685      8152791      8155476
Repeatable Handle Time       689238             53016                  0            0            4            4            4            2189
Worker Queue Time            689238             53016                  0            0            21           128          30660        5587081
Worker Handle Time           689238             53016                  11           13           722          1223         3971         5551217
Total                        689238             53016                  2460789      5239203      8094209      8119811      8152843      8846712
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3388               260                    2460773      5257327      8090997      8116208      8152649      8154012
Repeatable Handle Time       3388               260                    0            0            4            4            4            33
Worker Queue Time            3388               260                    0            0            36           146          15473        34030
Worker Handle Time           3388               260                    5013         24200        710511       1470336      4432280      10530072
Total                        3388               260                    2481937      5323993      8166959      8205365      10040119     13021195
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           692626             53276                  2460773      5239137      8093533      8119674      8152791      8155476
Repeatable Handle Time       692626             53276                  0            0            4            4            4            2189
Worker Queue Time            692626             53276                  0            0            21           128          30660        5587081
Worker Handle Time           692626             53276                  11           13           1199         16613        50951        10530072
Total                        692626             53276                  2460789      5239219      8094643      8119944      8152866      13021195
Running experiment for throughput = 144000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '144000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           915159             70397                  1462829      4230787      6584291      6598255      6608508      6623355
Repeatable Handle Time       915159             70397                  0            0            4            4            4            3806
Worker Queue Time            915159             70397                  0            0            71           2100         37061        4941664
Worker Handle Time           915159             70397                  11           13           624          1075         3848         3414974
Total                        915159             70397                  1462920      4230834      6584351      6598292      6608609      8660959
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           4535               348                    1463263      4231204      6581622      6597950      6610981      6619710
Repeatable Handle Time       4535               348                    0            0            4            4            5            37
Worker Queue Time            4535               348                    0            0            69           427          25274        1481763
Worker Handle Time           4535               348                    5002         18171        893353       1926275      4268224      8418395
Total                        4535               348                    1477751      4295342      6626901      6748699      8533071      11321011
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           919694             70746                  1462829      4230788      6584289      6598254      6608509      6623355
Repeatable Handle Time       919694             70746                  0            0            4            4            4            3806
Worker Queue Time            919694             70746                  0            0            71           2094         36771        4941664
Worker Handle Time           919694             70746                  11           13           1060         12895        37001        8418395
Total                        919694             70746                  1462920      4230865      6584388      6598303      6608701      11321011
Running experiment for throughput = 145000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '145000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           747468             57495                  1969716      5170032      7775901      7786276      7809831      7821853
Repeatable Handle Time       747468             57495                  0            0            4            4            4            2315
Worker Queue Time            747468             57495                  0            0            18           96           19939        3358611
Worker Handle Time           747468             57495                  11           13           631          1065         3194         10607077
Total                        747468             57495                  1969751      5170676      7775980      7786347      7809866      12843828
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3681               283                    1969793      5072426      7776983      7793252      7811318      7820761
Repeatable Handle Time       3681               283                    0            0            4            4            4            6
Worker Queue Time            3681               283                    0            0            17           72           5234         37379
Worker Handle Time           3681               283                    5471         23751        736022       1430979      8433395      10655854
Total                        3681               283                    1988663      5144334      7833071      7949947      11869290     12862350
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           751149             57778                  1969716      5164543      7775905      7786300      7809832      7821853
Repeatable Handle Time       751149             57778                  0            0            4            4            4            2315
Worker Queue Time            751149             57778                  0            0            18           96           19939        3358611
Worker Handle Time           751149             57778                  11           13           1045         16414        44748        10655854
Total                        751149             57778                  1969751      5170234      7776129      7786529      7809890      12862350
Running experiment for throughput = 146000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '146000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           766101             58928                  1255150      3400418      7680575      7726094      7731583      7732131
Repeatable Handle Time       766101             58928                  0            0            4            4            4            1135
Worker Queue Time            766101             58928                  0            0            18           106          19247        2367195
Worker Handle Time           766101             58928                  11           13           666          1097         3646         1789500
Total                        766101             58928                  1255165      3400484      7680609      7726136      7731616      8462758
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3880               298                    1255212      3432332      7678576      7723664      7731469      7731742
Repeatable Handle Time       3880               298                    0            0            4            4            4            71
Worker Queue Time            3880               298                    0            0            43           162          33073        151954
Worker Handle Time           3880               298                    5002         18254        890965       1915276      4087886      4524528
Total                        3880               298                    1269096      3482631      7744579      7811023      8498267      9033843
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           769981             59226                  1255150      3400436      7680576      7726094      7731583      7732131
Repeatable Handle Time       769981             59226                  0            0            4            4            4            1135
Worker Queue Time            769981             59226                  0            0            18           107          19322        2367195
Worker Handle Time           769981             59226                  11           13           1099         13391        38079        4524528
Total                        769981             59226                  1255165      3400568      7680635      7726144      7731628      9033843
Running experiment for throughput = 147000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '147000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           655711             50438                  2440628      5613545      8457363      8496602      8519605      8521753
Repeatable Handle Time       655711             50438                  0            0            4            4            4            1141
Worker Queue Time            655711             50438                  0            0            19           114          23683        1639362
Worker Handle Time           655711             50438                  11           13           750          1236         3922         5641451
Total                        655711             50438                  2440642      5613569      8457420      8496636      8519734      9180401
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3436               264                    2440650      5532913      8457361      8496699      8518369      8521674
Repeatable Handle Time       3436               264                    0            0            4            4            4            37
Worker Queue Time            3436               264                    0            0            17           72           1418         138418
Worker Handle Time           3436               264                    5435         24581        615376       1241938      3600463      5714685
Total                        3436               264                    2461464      5598412      8531273      8594250      9412980      10142626
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           659147             50702                  2440628      5613524      8457364      8496603      8519605      8521753
Repeatable Handle Time       659147             50702                  0            0            4            4            4            1141
Worker Queue Time            659147             50702                  0            0            19           113          23630        1639362
Worker Handle Time           659147             50702                  11           13           1267         18310        51167        5714685
Total                        659147             50702                  2440642      5613567      8457436      8496649      8519814      10142626
Running experiment for throughput = 148000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '148000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           917681             70586                  1436046      4046135      6713573      6729503      6763498      6764626
Repeatable Handle Time       917681             70586                  0            0            4            4            4            1625
Worker Queue Time            917681             70586                  0            0            18           100          14630        3234522
Worker Handle Time           917681             70586                  11           13           616          1066         3526         4082987
Total                        917681             70586                  1436059      4046215      6713610      6729682      6763628      8242976
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           4649               357                    1436421      4040219      6721518      6730386      6764084      6764447
Repeatable Handle Time       4649               357                    0            0            4            4            4            44
Worker Queue Time            4649               357                    0            0            29           103          11367        21835
Worker Handle Time           4649               357                    5002         18106        467155       885903       3254471      5790041
Total                        4649               357                    1454788      4064009      6762105      6828429      8248368      8930549
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           922330             70944                  1436046      4045998      6713576      6729509      6763498      6764626
Repeatable Handle Time       922330             70944                  0            0            4            4            4            1625
Worker Queue Time            922330             70944                  0            0            18           100          14623        3234522
Worker Handle Time           922330             70944                  11           13           1067         12925        35260        5790041
Total                        922330             70944                  1436059      4046252      6713625      6729885      6763820      8930549
Running experiment for throughput = 149000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '149000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           675865             51985                  2606622      5511166      8364238      8405246      8429609      8433236
Repeatable Handle Time       675865             51985                  0            0            4            4            4            6327
Worker Queue Time            675865             51985                  0            0            61           262          26265        2335674
Worker Handle Time           675865             51985                  11           13           725          1216         4298         2448055
Total                        675865             51985                  2606636      5511223      8364450      8405367      8429750      9360030
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3287               252                    2606702      5511401      8365717      8405545      8430490      8431503
Repeatable Handle Time       3287               252                    0            0            4            4            21           121
Worker Queue Time            3287               252                    0            0            63           230          20548        31067
Worker Handle Time           3287               252                    6729         25492        673887       1183127      2879754      5281064
Total                        3287               252                    2626697      5570705      8466344      8514335      9502067      10693191
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           679152             52238                  2606622      5511167      8364249      8405249      8429609      8433236
Repeatable Handle Time       679152             52238                  0            0            4            4            4            6327
Worker Queue Time            679152             52238                  0            0            61           260          26035        2335674
Worker Handle Time           679152             52238                  11           13           1185         16486        51250        5281064
Total                        679152             52238                  2606636      5511260      8364560      8405453      8429844      10693191
Running experiment for throughput = 150000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '150000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           938793             72212                  1297452      4079570      6663916      6686577      6698532      6709315
Repeatable Handle Time       938793             72212                  0            0            4            4            4            1151
Worker Queue Time            938793             72212                  0            0            17           88           10018        6255175
Worker Handle Time           938793             72212                  11           13           632          1077         3283         950696
Total                        938793             72212                  1297465      4079857      6664169      6686636      6698669      9639855
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           4768               366                    1297926      4064923      6661547      6683936      6699202      6709240
Repeatable Handle Time       4768               366                    0            0            4            4            4            6
Worker Queue Time            4768               366                    0            0            16           73           18613        120747
Worker Handle Time           4768               366                    5434         17659        489478       1115689      2110167      7474691
Total                        4768               366                    1311552      4109014      6707702      6763970      7534270      10813070
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           943561             72579                  1297452      4079361      6663911      6686575      6698532      6709315
Repeatable Handle Time       943561             72579                  0            0            4            4            4            1151
Worker Queue Time            943561             72579                  0            0            17           88           10046        6255175
Worker Handle Time           943561             72579                  11           13           1080         12953        34016        7474691
Total                        943561             72579                  1297465      4080421      6664303      6686720      6698772      10813070
