Running CFS experiments...
Output Directory: /tmp/ghost_data/2023-11-17 18:36:45
{"throughputs": [10000, 20000, 30000, 40000, 50000, 51000, 52000, 53000, 54000, 55000, 56000, 57000, 58000, 59000, 60000, 61000, 62000, 63000, 64000, 65000, 66000, 67000, 68000, 69000, 70000, 71000, 72000, 73000, 74000, 75000, 76000, 77000, 78000, 79000, 80000], "output_prefix": "/tmp/ghost_data/2023-11-17 18:36:45", "binaries": {"rocksdb": "/dev/shm/rocksdb", "antagonist": "/dev/shm/antagonist", "ghost": "/dev/shm/agent_shinjuku"}, "rocksdb": {"print_format": "pretty", "print_distribution": false, "print_ns": false, "print_get": true, "print_range": true, "rocksdb_db_path": "/dev/shm/orch_db", "throughput": 20000, "range_query_ratio": 0.005, "load_generator_cpus": 10, "cfs_dispatcher_cpus": 11, "num_workers": 6, "worker_cpus": [12, 13, 14, 15, 16, 17], "cfs_wait_type": "spin", "ghost_wait_type": "prio_table", "get_duration": "10us", "range_duration": "5000us", "get_exponential_mean": "0us", "batch": 1, "experiment_duration": "15s", "discard_duration": "2s", "scheduler": "cfs", "ghost_qos": 2}, "antagonist": null, "ghost": null}
Running experiment for throughput = 10000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '10000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           129388             9938                   0            0            2271         5519         13176        21540
Repeatable Handle Time       129388             9938                   0            0            332          677          4651         21637
Worker Queue Time            129388             9938                   0            0            31           104          1204         17116
Worker Handle Time           129388             9938                   10           11           201          297          541          5706
Total                        129388             9938                   11           12           2611         6894         15862        28338
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           643                49                     0            0            2402         3429         14322        14322
Repeatable Handle Time       643                49                     0            0            234          644          1772         1772
Worker Queue Time            643                49                     0            0            18           73           1776         1776
Worker Handle Time           643                49                     5000         5001         7081         7241         33333        33333
Total                        643                49                     5001         5002         8445         12974        33334        33334
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           130031             9987                   0            0            2273         5519         13255        21540
Repeatable Handle Time       130031             9987                   0            0            331          677          4651         21637
Worker Queue Time            130031             9987                   0            0            31           104          1208         17116
Worker Handle Time           130031             9987                   10           11           296          1745         5001         33333
Total                        130031             9987                   11           12           5002         6998         15933        33334
Running experiment for throughput = 20000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '20000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           258572             19889                  0            0            852          1539         2553         15405
Repeatable Handle Time       258572             19889                  0            0            371          643          1896         4075
Worker Queue Time            258572             19889                  0            0            14           32           393          17318
Worker Handle Time           258572             19889                  10           11           137          228          490          4144
Total                        258572             19889                  11           12           1349         2037         3267         17420
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1300               99                     0            0            728          1196         2004         2699
Repeatable Handle Time       1300               99                     0            0            371          595          843          2390
Worker Queue Time            1300               99                     0            0            3            8            55           942
Worker Handle Time           1300               99                     5001         5001         5202         5931         6159         24883
Total                        1300               99                     5001         5002         6431         6935         8086         24884
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           259872             19989                  0            0            851          1538         2553         15405
Repeatable Handle Time       259872             19989                  0            0            371          643          1896         4075
Worker Queue Time            259872             19989                  0            0            14           32           393          17318
Worker Handle Time           259872             19989                  10           11           226          4144         5001         24883
Total                        259872             19989                  11           12           2031         5001         5005         24884
Running experiment for throughput = 30000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '30000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           387368             29796                  0            0            644          1424         8719         21503
Repeatable Handle Time       387368             29796                  0            0            457          772          1888         21992
Worker Queue Time            387368             29796                  0            0            11           28           523          19442
Worker Handle Time           387368             29796                  10           11           135          229          536          6689
Total                        387368             29796                  11           12           1164         2087         10752        22417
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1937               148                    0            0            679          1323         2810         6425
Repeatable Handle Time       1937               148                    0            0            599          907          5021         6197
Worker Queue Time            1937               148                    0            0            11           39           557          699
Worker Handle Time           1937               148                    5001         5001         6825         7660         11853        12725
Total                        1937               148                    5001         5002         7459         8762         12726        12827
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           389305             29945                  0            0            645          1424         8706         21503
Repeatable Handle Time       389305             29945                  0            0            458          774          1888         21992
Worker Queue Time            389305             29945                  0            0            11           28           524          19442
Worker Handle Time           389305             29945                  10           11           228          2817         5077         12725
Total                        389305             29945                  11           12           2075         5002         10944        22417
Running experiment for throughput = 40000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '40000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           518436             39820                  0            0            1721         2451         7658         13940
Repeatable Handle Time       518436             39820                  0            0            1026         1557         4675         13905
Worker Queue Time            518436             39820                  0            0            3            18           169          20089
Worker Handle Time           518436             39820                  10           11           91           158          429          14513
Total                        518436             39820                  11           12           2453         3877         10411        20102
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           2548               195                    0            0            1542         2275         10648        13162
Repeatable Handle Time       2548               195                    0            0            1022         1538         2247         6516
Worker Queue Time            2548               195                    0            0            4            15           50           489
Worker Handle Time           2548               195                    5001         5001         5450         6122         13825        20313
Total                        2548               195                    5001         5002         7885         9101         18867        20314
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           520984             40016                  0            0            1721         2451         7669         13940
Repeatable Handle Time       520984             40016                  0            0            1026         1557         4669         13905
Worker Queue Time            520984             40016                  0            0            3            18           169          20089
Worker Handle Time           520984             40016                  10           11           154          1077         5002         20313
Total                        520984             40016                  11           12           3778         5003         10447        20314
Running experiment for throughput = 50000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '50000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           648299             49761                  0            0            1668         3759         9606         13820
Repeatable Handle Time       648299             49761                  0            0            1418         2357         4373         9602
Worker Queue Time            648299             49761                  0            0            5            20           248          16357
Worker Handle Time           648299             49761                  10           11           90           158          410          12567
Total                        648299             49761                  11           12           2943         6117         10842        16721
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3172               243                    0            0            1757         2515         7163         10515
Repeatable Handle Time       3172               243                    0            0            1065         1851         2867         3634
Worker Queue Time            3172               243                    0            0            5            29           164          876
Worker Handle Time           3172               243                    5001         5002         7501         8443         15454        24994
Total                        3172               243                    5001         5004         9153         13471        17188        24995
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           651471             50005                  0            0            1669         3756         9606         13820
Repeatable Handle Time       651471             50005                  0            0            1417         2354         4366         9602
Worker Queue Time            651471             50005                  0            0            5            20           248          16357
Worker Handle Time           651471             50005                  10           11           154          904          5489         24994
Total                        651471             50005                  11           12           5002         6440         10904        24995
Running experiment for throughput = 51000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '51000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           659950             50733                  0            0            967          1967         6078         11867
Repeatable Handle Time       659950             50733                  0            0            872          1361         2919         6933
Worker Queue Time            659950             50733                  0            0            5            19           230          20353
Worker Handle Time           659950             50733                  10           11           66           116          339          10432
Total                        659950             50733                  11           12           1742         2824         8584         20366
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3315               254                    0            0            1065         1821         6234         11112
Repeatable Handle Time       3315               254                    0            0            945          1380         2284         6675
Worker Queue Time            3315               254                    0            0            11           29           107          1068
Worker Handle Time           3315               254                    5001         5001         6020         6591         8196         18133
Total                        3315               254                    5001         5002         7286         8184         14686        18968
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           663265             50988                  0            0            967          1967         6081         11867
Repeatable Handle Time       663265             50988                  0            0            872          1361         2919         6933
Worker Queue Time            663265             50988                  0            0            5            19           230          20353
Worker Handle Time           663265             50988                  10           11           116          5001         5002         18133
Total                        663265             50988                  11           12           2815         5002         8604         20366
Running experiment for throughput = 52000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '52000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           675098             51727                  0            0            733          2087         8941         14971
Repeatable Handle Time       675098             51727                  0            0            1758         2703         4641         14508
Worker Queue Time            675098             51727                  0            0            9            25           457          13999
Worker Handle Time           675098             51727                  10           11           75           134          458          16500
Total                        675098             51727                  11           12           2631         4977         11187        17612
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3377               258                    0            0            609          2015         10418        13824
Repeatable Handle Time       3377               258                    0            0            1926         2955         4386         9630
Worker Queue Time            3377               258                    0            0            10           16           128          1321
Worker Handle Time           3377               258                    5001         5002         8320         9232         16257        23456
Total                        3377               258                    5001         5021         10269        15116        20973        23456
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           678475             51985                  0            0            732          2087         8950         14971
Repeatable Handle Time       678475             51985                  0            0            1758         2704         4641         14508
Worker Queue Time            678475             51985                  0            0            9            25           457          13999
Worker Handle Time           678475             51985                  10           11           133          3413         6025         23456
Total                        678475             51985                  11           12           4959         6052         11309        23456
Running experiment for throughput = 53000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '53000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           685674             52702                  0            0            698          1216         2535         5879
Repeatable Handle Time       685674             52702                  0            0            934          1193         2284         3919
Worker Queue Time            685674             52702                  0            0            5            20           323          26629
Worker Handle Time           685674             52702                  10           11           77           129          380          4073
Total                        685674             52702                  11           12           1562         2167         3355         27894
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3445               264                    0            0            789          1375         2443         5471
Repeatable Handle Time       3445               264                    0            0            973          1297         2346         3798
Worker Queue Time            3445               264                    0            0            2            18           72           871
Worker Handle Time           3445               264                    5001         5001         6121         6581         8768         24405
Total                        3445               264                    5001         5003         6824         7247         10254        24406
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           689119             52966                  0            0            698          1217         2535         5879
Repeatable Handle Time       689119             52966                  0            0            935          1193         2285         3919
Worker Queue Time            689119             52966                  0            0            5            20           322          26629
Worker Handle Time           689119             52966                  10           11           128          4073         5002         24405
Total                        689119             52966                  11           12           2163         5002         5045         27894
Running experiment for throughput = 54000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '54000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           698748             53744                  0            0            859          1482         3219         5351
Repeatable Handle Time       698748             53744                  0            0            1301         1933         3844         6215
Worker Queue Time            698748             53744                  0            0            5            20           331          26220
Worker Handle Time           698748             53744                  10           11           77           132          381          3650
Total                        698748             53744                  11           12           2105         2843         4810         27084
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3554               273                    0            0            755          1283         2750         5010
Repeatable Handle Time       3554               273                    0            0            1192         1597         2814         4525
Worker Queue Time            3554               273                    0            0            3            15           307          757
Worker Handle Time           3554               273                    5001         5065         7778         8758         11038        27029
Total                        3554               273                    5001         5170         8730         9589         11437        27030
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           702302             54017                  0            0            858          1482         3219         5351
Repeatable Handle Time       702302             54017                  0            0            1301         1930         3842         6215
Worker Queue Time            702302             54017                  0            0            5            20           330          26220
Worker Handle Time           702302             54017                  10           11           132          5001         6178         27029
Total                        702302             54017                  11           12           2849         5002         6278         27084
Running experiment for throughput = 55000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '55000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           712629             54675                  0            0            682          1253         2795         6096
Repeatable Handle Time       712629             54675                  0            0            880          1178         2199         4831
Worker Queue Time            712629             54675                  0            0            7            22           390          24967
Worker Handle Time           712629             54675                  10           11           74           124          384          19381
Total                        712629             54675                  11           12           1469         2177         3792         25331
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3543               271                    0            0            669          1269         2569         5603
Repeatable Handle Time       3543               271                    0            0            947          1219         2371         3367
Worker Queue Time            3543               271                    0            0            6            19           75           933
Worker Handle Time           3543               271                    5001         5001         6450         7623         8673         22406
Total                        3543               271                    5002         5003         7216         8060         10193        22407
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           716172             54947                  0            0            682          1253         2794         6096
Repeatable Handle Time       716172             54947                  0            0            880          1178         2199         4831
Worker Queue Time            716172             54947                  0            0            7            22           387          24967
Worker Handle Time           716172             54947                  10           11           122          1352         5002         22406
Total                        716172             54947                  11           12           2159         5002         5097         25331
Running experiment for throughput = 56000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '56000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           727469             55785                  0            0            1927         2802         8995         15648
Repeatable Handle Time       727469             55785                  0            0            2199         3063         5014         15592
Worker Queue Time            727469             55785                  0            0            1            16           98           30588
Worker Handle Time           727469             55785                  11           11           68           119          410          11762
Total                        727469             55785                  11           13           3306         4785         10163        30625
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3634               278                    0            0            1824         2657         5780         11866
Repeatable Handle Time       3634               278                    0            0            2114         2963         4367         4748
Worker Queue Time            3634               278                    0            0            1            12           107          648
Worker Handle Time           3634               278                    5001         5328         8138         9157         11665        17187
Total                        3634               278                    5002         5519         10006        11568        15233        17588
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           731103             56064                  0            0            1926         2802         8964         15648
Repeatable Handle Time       731103             56064                  0            0            2199         3063         5010         15592
Worker Queue Time            731103             56064                  0            0            1            16           98           30588
Worker Handle Time           731103             56064                  11           11           118          2048         6460         17187
Total                        731103             56064                  11           13           4764         5844         10294        30625
Running experiment for throughput = 57000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '57000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           740106             56669                  0            0            1874         4202         10673        18021
Repeatable Handle Time       740106             56669                  0            0            2246         3138         4970         14975
Worker Queue Time            740106             56669                  0            0            8            24           554          13600
Worker Handle Time           740106             56669                  10           11           73           129          443          11245
Total                        740106             56669                  11           12           4234         6817         12380        18672
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3945               302                    0            0            1480         3182         12064        13176
Repeatable Handle Time       3945               302                    0            0            1973         2734         5363         11308
Worker Queue Time            3945               302                    0            0            14           28           275          699
Worker Handle Time           3945               302                    5001         5002         7618         8910         16015        17602
Total                        3945               302                    5001         5003         10457        13348        17964        19437
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           744051             56971                  0            0            1872         4196         10680        18021
Repeatable Handle Time       744051             56971                  0            0            2246         3137         4971         14975
Worker Queue Time            744051             56971                  0            0            8            24           554          13600
Worker Handle Time           744051             56971                  10           11           135          5001         5010         17602
Total                        744051             56971                  11           12           5005         6913         12464        19437
Running experiment for throughput = 58000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '58000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           749810             57653                  0            0            985          1697         2932         5868
Repeatable Handle Time       749810             57653                  0            0            2030         3013         5954         9702
Worker Queue Time            749810             57653                  0            0            3            20           258          18072
Worker Handle Time           749810             57653                  10           11           71           120          443          21903
Total                        749810             57653                  11           13           2684         3591         6041         21910
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3679               282                    0            0            941          1730         3662         4027
Repeatable Handle Time       3679               282                    0            0            2188         3474         6908         8496
Worker Queue Time            3679               282                    0            0            9            27           250          910
Worker Handle Time           3679               282                    5001         5690         9195         10055        18694        26670
Total                        3679               282                    5002         5756         10661        11675        18695        26732
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           753489             57936                  0            0            984          1697         2935         5868
Repeatable Handle Time       753489             57936                  0            0            2030         3016         5954         9702
Worker Queue Time            753489             57936                  0            0            3            20           258          18072
Worker Handle Time           753489             57936                  10           11           117          1130         6676         26670
Total                        753489             57936                  11           13           3551         5194         7312         26732
Running experiment for throughput = 59000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '59000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           763560             58623                  0            0            1390         2285         3885         6866
Repeatable Handle Time       763560             58623                  0            0            1585         2479         4201         7936
Worker Queue Time            763560             58623                  0            0            9            30           690          24630
Worker Handle Time           763560             58623                  10           11           73           129          470          7347
Total                        763560             58623                  11           13           2857         3702         5556         24721
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3771               289                    0            0            1649         2354         3870         5936
Repeatable Handle Time       3771               289                    0            0            1681         2251         3557         5384
Worker Queue Time            3771               289                    0            0            17           51           877          3248
Worker Handle Time           3771               289                    5001         5002         8831         9737         11868        18772
Total                        3771               289                    5002         5005         9579         11330        12866        18773
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           767331             58913                  0            0            1391         2285         3885         6866
Repeatable Handle Time       767331             58913                  0            0            1586         2478         4201         7936
Worker Queue Time            767331             58913                  0            0            9            30           691          24630
Worker Handle Time           767331             58913                  10           11           126          2347         5310         18772
Total                        767331             58913                  11           13           3675         5003         6180         24721
Running experiment for throughput = 60000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '60000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           779445             59805                  0            0            1429         2285         4136         14429
Repeatable Handle Time       779445             59805                  0            0            2231         3301         6641         14399
Worker Queue Time            779445             59805                  0            0            1            17           121          27318
Worker Handle Time           779445             59805                  11           11           67           110          355          4762
Total                        779445             59805                  11           12           3059         4200         8341         28315
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3928               301                    0            0            1446         2565         7923         13679
Repeatable Handle Time       3928               301                    0            0            2467         4115         6978         7226
Worker Queue Time            3928               301                    0            0            1            17           51           969
Worker Handle Time           3928               301                    5001         5437         8163         9396         11805        15796
Total                        3928               301                    5002         5564         10596        12769        16723        20831
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           783373             60106                  0            0            1429         2286         4139         14429
Repeatable Handle Time       783373             60106                  0            0            2231         3304         6644         14399
Worker Queue Time            783373             60106                  0            0            1            17           121          27318
Worker Handle Time           783373             60106                  11           11           110          5001         6435         15796
Total                        783373             60106                  11           12           4198         5758         9202         28315
Running experiment for throughput = 61000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '61000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           787528             60558                  0            0            682          1097         2322         3838
Repeatable Handle Time       787528             60558                  0            0            1357         1701         2981         4494
Worker Queue Time            787528             60558                  0            0            6            22           276          19713
Worker Handle Time           787528             60558                  10           11           87           155          459          4064
Total                        787528             60558                  11           13           1805         2332         3547         20475
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3827               294                    0            0            761          1251         2727         3669
Repeatable Handle Time       3827               294                    0            0            1390         1651         2898         3722
Worker Queue Time            3827               294                    0            0            8            24           629          898
Worker Handle Time           3827               294                    5001         5002         6608         7124         9008         10122
Total                        3827               294                    5002         5003         7375         8397         9796         10149
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           791355             60852                  0            0            683          1097         2324         3838
Repeatable Handle Time       791355             60852                  0            0            1357         1701         2981         4494
Worker Queue Time            791355             60852                  0            0            6            22           277          19713
Worker Handle Time           791355             60852                  10           11           150          913          5008         10122
Total                        791355             60852                  11           13           2305         4474         5180         20475
Running experiment for throughput = 62000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '62000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           803246             61734                  0            0            1967         2885         7642         12493
Repeatable Handle Time       803246             61734                  0            0            4117         13313        27763        38683
Worker Queue Time            803246             61734                  0            0            6            24           326          28097
Worker Handle Time           803246             61734                  10           11           92           159          434          5918
Total                        803246             61734                  11           13           5101         13349        34668        43997
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           4083               313                    0            0            1843         2967         6353         11217
Repeatable Handle Time       4083               313                    0            0            4908         16001        34127        35255
Worker Queue Time            4083               313                    0            0            6            26           274          3593
Worker Handle Time           4083               313                    5001         5474         9695         11122        14669        18740
Total                        4083               313                    5001         5643         15220        23127        41253        43385
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           807329             62048                  0            0            1965         2886         7642         12493
Repeatable Handle Time       807329             62048                  0            0            4119         13336        27771        38683
Worker Queue Time            807329             62048                  0            0            6            24           328          28097
Worker Handle Time           807329             62048                  10           11           159          5001         6532         18740
Total                        807329             62048                  11           13           6030         13417        34698        43997
Running experiment for throughput = 63000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '63000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           815230             62709                  0            0            1360         2270         8671         20955
Repeatable Handle Time       815230             62709                  0            0            1395         2063         6441         20981
Worker Queue Time            815230             62709                  0            0            3            18           116          14375
Worker Handle Time           815230             62709                  11           11           65           110          402          3829
Total                        815230             62709                  11           13           2515         3512         13168        21388
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           4109               316                    0            0            1754         2822         10942        18607
Repeatable Handle Time       4109               316                    0            0            1299         1688         6559         7917
Worker Queue Time            4109               316                    0            0            1            19           60           351
Worker Handle Time           4109               316                    5001         5002         6678         7160         8161         24861
Total                        4109               316                    5002         5005         8087         9657         19000        24862
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           819339             63025                  0            0            1362         2272         8762         20955
Repeatable Handle Time       819339             63025                  0            0            1394         2062         6457         20981
Worker Queue Time            819339             63025                  0            0            3            18           116          14375
Worker Handle Time           819339             63025                  11           11           110          5001         5239         24861
Total                        819339             63025                  11           13           3508         5006         13178        24862
Running experiment for throughput = 64000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '64000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           826585             63527                  0            0            1323         2781         15457        20610
Repeatable Handle Time       826585             63527                  0            0            3526         4470         7237         9965
Worker Queue Time            826585             63527                  0            0            2            18           163          20864
Worker Handle Time           826585             63527                  11           11           77           136          420          4483
Total                        826585             63527                  11           13           4352         7449         16713        21343
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           4163               319                    0            0            1191         2104         9348         18359
Repeatable Handle Time       4163               319                    0            0            3350         4554         6126         8665
Worker Queue Time            4163               319                    0            0            5            20           66           1876
Worker Handle Time           4163               319                    5001         6117         8776         9519         11281        29894
Total                        4163               319                    5002         6242         11436        13282        19197        29895
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           830748             63847                  0            0            1322         2773         15422        20610
Repeatable Handle Time       830748             63847                  0            0            3525         4470         7224         9965
Worker Queue Time            830748             63847                  0            0            2            18           162          20864
Worker Handle Time           830748             63847                  11           11           136          5001         7102         29894
Total                        830748             63847                  11           13           5501         8133         16716        29895
Running experiment for throughput = 65000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '65000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           843454             64732                  0            0            2480         2967         3907         6316
Repeatable Handle Time       843454             64732                  0            0            1817         2525         3932         7757
Worker Queue Time            843454             64732                  0            0            2            19           602          12860
Worker Handle Time           843454             64732                  11           11           58           104          428          7280
Total                        843454             64732                  11           13           3164         3709         4833         15977
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           4355               334                    0            0            2548         3069         4068         5165
Repeatable Handle Time       4355               334                    0            0            1724         2162         3923         6426
Worker Queue Time            4355               334                    0            0            2            18           1336         2267
Worker Handle Time           4355               334                    5001         5002         8918         9877         12428        23330
Total                        4355               334                    5002         5005         10122        11282        14372        23331
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           847809             65066                  0            0            2480         2968         3907         6316
Repeatable Handle Time       847809             65066                  0            0            1816         2524         3932         7757
Worker Queue Time            847809             65066                  0            0            2            19           603          12860
Worker Handle Time           847809             65066                  11           11           106          5001         5229         23330
Total                        847809             65066                  11           13           3725         5002         6140         23331
Running experiment for throughput = 66000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '66000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           853555             65656                  0            0            937          3331         20494        31658
Repeatable Handle Time       853555             65656                  0            0            5397         7681         13786        32241
Worker Queue Time            853555             65656                  0            0            5            23           200          5218
Worker Handle Time           853555             65656                  11           11           98           167          522          4114
Total                        853555             65656                  11           13           6300         13243        24081        32384
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           4353               334                    0            0            961          2529         19046        29904
Repeatable Handle Time       4353               334                    0            0            5181         6216         10815        14706
Worker Queue Time            4353               334                    0            0            1            17           96           863
Worker Handle Time           4353               334                    5001         6746         9816         10621        13733        35094
Total                        4353               334                    5002         6869         13610        19072        32496        39006
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           857908             65991                  0            0            938          3324         20489        31658
Repeatable Handle Time       857908             65991                  0            0            5394         7665         13784        32241
Worker Queue Time            857908             65991                  0            0            5            23           200          5218
Worker Handle Time           857908             65991                  11           11           168          5002         7655         35094
Total                        857908             65991                  11           13           7392         13344        24098        39006
Running experiment for throughput = 67000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '67000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           866712             66669                  0            0            773          1499         3854         10064
Repeatable Handle Time       866712             66669                  0            0            1509         2203         5469         9249
Worker Queue Time            866712             66669                  0            0            2            17           177          17570
Worker Handle Time           866712             66669                  10           11           59           104          381          20903
Total                        866712             66669                  11           12           2030         2940         8020         20904
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           4276               328                    0            0            831          1764         5204         9322
Repeatable Handle Time       4276               328                    0            0            1494         2525         5685         8910
Worker Queue Time            4276               328                    0            0            3            18           507          3248
Worker Handle Time           4276               328                    5001         5002         6523         7228         8255         13562
Total                        4276               328                    5002         5003         8050         9293         13166        16235
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           870988             66998                  0            0            774          1500         3858         10064
Repeatable Handle Time       870988             66998                  0            0            1509         2204         5476         9249
Worker Queue Time            870988             66998                  0            0            2            17           179          17570
Worker Handle Time           870988             66998                  10           11           102          1076         5002         20903
Total                        870988             66998                  11           12           2902         5003         8120         20904
Running experiment for throughput = 68000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '68000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           879336             67581                  0            0            498          863          1699         3413
Repeatable Handle Time       879336             67581                  0            0            4545         5420         7649         9526
Worker Queue Time            879336             67581                  0            0            4            22           123          25673
Worker Handle Time           879336             67581                  11           11           83           143          487          4789
Total                        879336             67581                  11           13           4584         5467         7695         25849
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           4443               341                    0            0            539          856          1688         2531
Repeatable Handle Time       4443               341                    0            0            4337         5089         7467         8128
Worker Queue Time            4443               341                    0            0            4            17           88           911
Worker Handle Time           4443               341                    5001         6615         9883         10725        12762        27668
Total                        4443               341                    5002         6706         11879        13336        15153        27669
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           883779             67923                  0            0            498          863          1700         3413
Repeatable Handle Time       883779             67923                  0            0            4544         5420         7649         9526
Worker Queue Time            883779             67923                  0            0            4            21           122          25673
Worker Handle Time           883779             67923                  11           11           143          5001         7540         27668
Total                        883779             67923                  11           13           5387         6622         8372         27669
Running experiment for throughput = 69000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '69000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           895308             68701                  0            0            704          1409         11143        19977
Repeatable Handle Time       895308             68701                  0            0            1676         2440         4745         7761
Worker Queue Time            895308             68701                  0            0            3            18           161          20009
Worker Handle Time           895308             68701                  10           11           60           104          365          4291
Total                        895308             68701                  11           12           2187         3307         12445        20041
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           4549               349                    0            0            682          1480         6834         13670
Repeatable Handle Time       4549               349                    0            0            1718         2307         5482         6840
Worker Queue Time            4549               349                    0            0            1            21           620          963
Worker Handle Time           4549               349                    5001         5002         6541         7119         8725         19760
Total                        4549               349                    5002         5003         7700         9451         15336        20130
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           899857             69050                  0            0            704          1409         11123        19977
Repeatable Handle Time       899857             69050                  0            0            1677         2439         4749         7761
Worker Queue Time            899857             69050                  0            0            3            18           166          20009
Worker Handle Time           899857             69050                  10           11           104          5001         5002         19760
Total                        899857             69050                  11           12           3324         5010         12509        20130
Running experiment for throughput = 70000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '70000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           905379             69633                  0            0            945          1621         6738         12867
Repeatable Handle Time       905379             69633                  0            0            4719         5627         8509         12279
Worker Queue Time            905379             69633                  0            0            3            19           108          21563
Worker Handle Time           905379             69633                  11           12           76           130          400          4156
Total                        905379             69633                  11           13           5149         6444         10775        21576
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           4616               355                    0            0            946          2207         6399         10725
Repeatable Handle Time       4616               355                    0            0            4475         5205         8013         10921
Worker Queue Time            4616               355                    0            0            4            23           251          1316
Worker Handle Time           4616               355                    5001         6747         9891         10534        11935        12433
Total                        4616               355                    5002         6890         12824        14329        16886        19105
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           909995             69988                  0            0            945          1622         6738         12867
Repeatable Handle Time       909995             69988                  0            0            4717         5626         8503         12279
Worker Queue Time            909995             69988                  0            0            3            19           108          21563
Worker Handle Time           909995             69988                  11           12           131          5002         7678         12433
Total                        909995             69988                  11           13           5915         7584         11028        21576
Running experiment for throughput = 71000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '71000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           917456             70495                  0            0            778          1572         7541         16424
Repeatable Handle Time       917456             70495                  0            0            2296         3660         6876         16384
Worker Queue Time            917456             70495                  0            0            3            18           100          15597
Worker Handle Time           917456             70495                  11           11           57           100          378          4568
Total                        917456             70495                  11           13           2842         4803         11256        17264
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           4658               357                    0            0            763          1875         6154         15315
Repeatable Handle Time       4658               357                    0            0            2491         4126         6786         9426
Worker Queue Time            4658               357                    0            0            4            16           69           3361
Worker Handle Time           4658               357                    5001         5002         7245         7936         9208         22271
Total                        4658               357                    5002         5007         9218         11008        17784        23838
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           922114             70853                  0            0            778          1576         7538         16424
Repeatable Handle Time       922114             70853                  0            0            2297         3662         6876         16384
Worker Queue Time            922114             70853                  0            0            3            18           99           15597
Worker Handle Time           922114             70853                  11           11           101          5001         5390         22271
Total                        922114             70853                  11           13           4814         5611         11315        23838
Running experiment for throughput = 72000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '72000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           931764             71625                  0            0            1139         2437         14431        26774
Repeatable Handle Time       931764             71625                  0            0            4561         6891         10236        13860
Worker Queue Time            931764             71625                  0            0            1            16           117          17929
Worker Handle Time           931764             71625                  10           11           69           117          382          7124
Total                        931764             71625                  11           13           5240         9345         23345        28800
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           4681               359                    0            0            897          2388         23493        26716
Repeatable Handle Time       4681               359                    0            0            4333         6206         10114        10431
Worker Queue Time            4681               359                    0            0            1            10           36           2567
Worker Handle Time           4681               359                    5001         5942         8532         9371         11274        30889
Total                        4681               359                    5001         6081         12378        16280        32312        33705
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           936445             71985                  0            0            1139         2437         14454        26774
Repeatable Handle Time       936445             71985                  0            0            4561         6886         10236        13860
Worker Queue Time            936445             71985                  0            0            1            16           116          17929
Worker Handle Time           936445             71985                  10           11           116          3625         6842         30889
Total                        936445             71985                  11           13           6321         9420         23384        33705
Running experiment for throughput = 73000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '73000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           944133             72627                  0            0            1041         1800         3575         10942
Repeatable Handle Time       944133             72627                  0            0            2206         2765         4458         10870
Worker Queue Time            944133             72627                  0            0            2            19           128          23350
Worker Handle Time           944133             72627                  11           12           62           107          373          14603
Total                        944133             72627                  11           13           2685         3483         5846         24716
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           4610               354                    0            0            924          1392         2751         9857
Repeatable Handle Time       4610               354                    0            0            2001         2338         4022         4573
Worker Queue Time            4610               354                    0            0            5            19           57           548
Worker Handle Time           4610               354                    5001         5002         7232         7809         8969         16758
Total                        4610               354                    5002         5017         8331         9004         11267        16759
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           948743             72982                  0            0            1041         1799         3568         10942
Repeatable Handle Time       948743             72982                  0            0            2205         2762         4456         10870
Worker Queue Time            948743             72982                  0            0            2            19           128          23350
Worker Handle Time           948743             72982                  11           12           104          869          5473         16758
Total                        948743             72982                  11           13           3440         5003         6487         24716
Running experiment for throughput = 74000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '74000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           958458             73669                  0            0            550          945          2552         4526
Repeatable Handle Time       958458             73669                  0            0            5151         6156         7971         25261
Worker Queue Time            958458             73669                  0            0            2            18           138          16845
Worker Handle Time           958458             73669                  11           12           75           132          432          4625
Total                        958458             73669                  11           13           5205         6206         8028         25868
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           4863               373                    0            0            586          886          3036         3989
Repeatable Handle Time       4863               373                    0            0            5096         5976         8150         9781
Worker Queue Time            4863               373                    0            0            6            22           266          1473
Worker Handle Time           4863               373                    5001         6791         9729         10583        11542        14765
Total                        4863               373                    5002         6986         13057        13779        16394        18352
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           963321             74042                  0            0            550          945          2554         4526
Repeatable Handle Time       963321             74042                  0            0            5150         6156         7977         25261
Worker Queue Time            963321             74042                  0            0            2            19           139          16845
Worker Handle Time           963321             74042                  11           12           132          5002         7770         14765
Total                        963321             74042                  11           13           5981         7072         9068         25868
Running experiment for throughput = 75000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '75000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           970011             74608                  0            0            1560         2969         7500         17288
Repeatable Handle Time       970011             74608                  0            0            14217        24782        37282        42382
Worker Queue Time            970011             74608                  0            0            4            20           233          19094
Worker Handle Time           970011             74608                  11           11           64           109          410          8920
Total                        970011             74608                  11           13           15171        24895        37405        42645
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           4973               382                    0            0            2187         3565         15314        16318
Repeatable Handle Time       4973               382                    0            0            14243        29926        37731        40453
Worker Queue Time            4973               382                    0            0            9            24           121          950
Worker Handle Time           4973               382                    5001         5002         9371         10911        17308        33322
Total                        4973               382                    5002         5005         24151        37111        45763        49692
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           974984             74990                  0            0            1562         2976         7520         17288
Repeatable Handle Time       974984             74990                  0            0            14217        24790        37282        42382
Worker Queue Time            974984             74990                  0            0            4            20           232          19094
Worker Handle Time           974984             74990                  11           11           110          5001         5251         33322
Total                        974984             74990                  11           13           15216        24943        37460        49692
Running experiment for throughput = 76000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '76000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           984785             75659                  0            0            1459         2493         5943         17450
Repeatable Handle Time       984785             75659                  0            0            5596         7647         12609        17186
Worker Queue Time            984785             75659                  0            0            1            13           74           21171
Worker Handle Time           984785             75659                  10           11           72           125          400          13388
Total                        984785             75659                  11           13           6326         8897         14294        21215
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           4948               380                    0            0            1328         2355         4439         15827
Repeatable Handle Time       4948               380                    0            0            5642         7187         12385        15611
Worker Queue Time            4948               380                    0            0            1            13           56           883
Worker Handle Time           4948               380                    5001         6517         9622         10444        12884        25596
Total                        4948               380                    5001         6703         14074        16296        23617        34445
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           989733             76039                  0            0            1458         2493         5938         17450
Repeatable Handle Time       989733             76039                  0            0            5597         7647         12609        17186
Worker Queue Time            989733             76039                  0            0            1            13           74           21171
Worker Handle Time           989733             76039                  10           11           124          5001         7440         25596
Total                        989733             76039                  11           13           7154         9152         14454        34445
Running experiment for throughput = 77000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '77000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           995945             76602                  0            0            657          1200         5848         17623
Repeatable Handle Time       995945             76602                  0            0            2681         3782         5910         9109
Worker Queue Time            995945             76602                  0            0            2            18           104          13379
Worker Handle Time           995945             76602                  11           12           62           106          375          19883
Total                        995945             76602                  11           13           3003         4036         11427        19884
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           5103               392                    0            0            822          1412         3640         14382
Repeatable Handle Time       5103               392                    0            0            2559         3511         5164         7117
Worker Queue Time            5103               392                    0            0            6            22           76           877
Worker Handle Time           5103               392                    5001         5002         7436         8342         9962         26943
Total                        5103               392                    5002         5021         8828         9581         16652        26944
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1001048            76995                  0            0            657          1202         5825         17623
Repeatable Handle Time       1001048            76995                  0            0            2681         3781         5904         9109
Worker Queue Time            1001048            76995                  0            0            2            18           103          13379
Worker Handle Time           1001048            76995                  11           12           108          5001         5561         26943
Total                        1001048            76995                  11           13           4065         5134         11428        26944
Running experiment for throughput = 78000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '78000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1008856            77597                  0            0            441          796          2958         15652
Repeatable Handle Time       1008856            77597                  0            0            5316         6132         8201         15823
Worker Queue Time            1008856            77597                  0            0            1            16           91           17517
Worker Handle Time           1008856            77597                  11           11           60           107          374          19591
Total                        1008856            77597                  11           13           5507         6425         10171        19592
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           5024               386                    0            0            491          754          1584         12882
Repeatable Handle Time       5024               386                    0            0            5548         6128         7778         10191
Worker Queue Time            5024               386                    0            0            1            12           93           836
Worker Handle Time           5024               386                    5001         6274         9312         10391        11665        29738
Total                        5024               386                    5002         6469         12922        14054        17538        32598
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1013880            77983                  0            0            441          795          2958         15652
Repeatable Handle Time       1013880            77983                  0            0            5317         6132         8201         15823
Worker Queue Time            1013880            77983                  0            0            1            16           91           17517
Worker Handle Time           1013880            77983                  11           11           105          1578         7238         29738
Total                        1013880            77983                  11           13           6016         7130         10610        32598
Running experiment for throughput = 79000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '79000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1022036            78621                  0            0            1392         2183         3087         4302
Repeatable Handle Time       1022036            78621                  0            0            2491         3142         4301         14711
Worker Queue Time            1022036            78621                  0            0            1            14           74           21759
Worker Handle Time           1022036            78621                  11           11           60           104          318          4316
Total                        1022036            78621                  11           13           3020         3494         4430         21788
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           5130               394                    0            0            1508         2339         2869         3660
Repeatable Handle Time       5130               394                    0            0            2457         3145         3981         5921
Worker Queue Time            5130               394                    0            0            8            23           63           1356
Worker Handle Time           5130               394                    5001         5002         6844         7356         8748         9823
Total                        5130               394                    5002         5031         8665         9082         9824         12072
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1027166            79015                  0            0            1393         2183         3087         4302
Repeatable Handle Time       1027166            79015                  0            0            2491         3142         4299         14711
Worker Queue Time            1027166            79015                  0            0            1            14           74           21759
Worker Handle Time           1027166            79015                  11           11           103          3273         5476         9823
Total                        1027166            79015                  11           13           3491         5002         5843         21788
Running experiment for throughput = 80000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '80000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1034887            79581                  0            0            1032         2219         15841        28045
Repeatable Handle Time       1034887            79581                  0            0            5495         7008         11667        27993
Worker Queue Time            1034887            79581                  0            0            1            12           63           4776
Worker Handle Time           1034887            79581                  10           11           57           101          333          4464
Total                        1034887            79581                  11           13           6114         9791         20074        28351
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           5280               406                    0            0            884          1473         11737        27449
Repeatable Handle Time       5280               406                    0            0            5573         7490         10697        13325
Worker Queue Time            5280               406                    0            0            2            15           96           908
Worker Handle Time           5280               406                    5001         6236         9071         10072        11572        30003
Total                        5280               406                    5002         6439         13388        17167        26257        33733
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1040167            79987                  0            0            1031         2216         15834        28045
Repeatable Handle Time       1040167            79987                  0            0            5495         7009         11664        27993
Worker Queue Time            1040167            79987                  0            0            1            12           63           4776
Worker Handle Time           1040167            79987                  10           11           102          5001         7169         30003
Total                        1040167            79987                  11           13           6831         9922         20121        33733
Running ghOSt experiments...
Output Directory: /tmp/ghost_data/2023-11-17 18:48:57
{"throughputs": [10000, 20000, 30000, 40000, 50000, 60000, 70000, 80000, 90000, 100000, 110000, 120000, 130000, 140000, 141000, 142000, 143000, 144000, 145000, 146000, 147000, 148000, 149000, 150000], "output_prefix": "/tmp/ghost_data/2023-11-17 18:48:57", "binaries": {"rocksdb": "/dev/shm/rocksdb", "antagonist": "/dev/shm/antagonist", "ghost": "/dev/shm/agent_shinjuku"}, "rocksdb": {"print_format": "pretty", "print_distribution": false, "print_ns": false, "print_get": true, "print_range": true, "rocksdb_db_path": "/dev/shm/orch_db", "throughput": 20000, "range_query_ratio": 0.005, "load_generator_cpus": 10, "cfs_dispatcher_cpus": 11, "num_workers": 200, "worker_cpus": [], "cfs_wait_type": "spin", "ghost_wait_type": "prio_table", "get_duration": "10us", "range_duration": "5000us", "get_exponential_mean": "0us", "batch": 1, "experiment_duration": "15s", "discard_duration": "2s", "scheduler": "ghost", "ghost_qos": 2}, "antagonist": null, "ghost": {"firstcpu": 11, "globalcpu": 11, "ncpus": 7, "preemption_time_slice": "30us"}}
Running experiment for throughput = 10000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '10000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           129639             9969                   0            1            1581         1794         2252         3296
Repeatable Handle Time       129639             9969                   0            0            3            4            4            424
Worker Queue Time            129639             9969                   0            78           2737         3257         11978        18985
Worker Handle Time           129639             9969                   11           17           1231         1635         2580         18033
Total                        129639             9969                   11           113          3995         4638         14181        20887
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           692                53                     0            1            1693         1973         2877         3061
Repeatable Handle Time       692                53                     0            0            3            3            16           25
Worker Queue Time            692                53                     0            73           2497         3343         4025         4278
Worker Handle Time           692                53                     5001         5344         9436         9720         18670        23320
Total                        692                53                     5002         5671         10518        11533        20007        23322
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           130331             10022                  0            1            1582         1795         2257         3296
Repeatable Handle Time       130331             10022                  0            0            3            4            4            424
Worker Queue Time            130331             10022                  0            78           2737         3257         11967        18985
Worker Handle Time           130331             10022                  11           17           1665         5002         6523         23320
Total                        130331             10022                  11           113          4702         5620         14254        23322
Running experiment for throughput = 20000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '20000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           258321             19869                  0            1            8215         12930        18498        22386
Repeatable Handle Time       258321             19869                  0            0            4            4            4            2293
Worker Queue Time            258321             19869                  0            76           18442        26899        78834        171293
Worker Handle Time           258321             19869                  11           15           2854         4835         15429        275416
Total                        258321             19869                  11           158          24591        32193        94102        276106
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1309               100                    0            1            6535         10892        19773        20236
Repeatable Handle Time       1309               100                    0            0            4            4            4            8
Worker Queue Time            1309               100                    0            77           18330        24557        87754        168455
Worker Handle Time           1309               100                    5001         16353        124591       169821       292709       294917
Total                        1309               100                    5003         17481        163140       189138       300966       302816
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           259630             19970                  0            1            8204         12925        18498        22386
Repeatable Handle Time       259630             19970                  0            0            4            4            4            2293
Worker Queue Time            259630             19970                  0            76           18434        26851        78850        171293
Worker Handle Time           259630             19970                  11           15           4842         11316        35018        294917
Total                        259630             19970                  11           161          26220        34395        104089       302816
Running experiment for throughput = 30000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '30000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           389996             29927                  0            1            2063         2404         3125         5712
Repeatable Handle Time       389996             29927                  0            0            4            4            4            488
Worker Queue Time            389996             29927                  0            50           7517         9452         17057        26868
Worker Handle Time           389996             29927                  11           13           1532         2375         5695         26904
Total                        389996             29927                  11           88           8909         10965        18248        27503
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1901               145                    0            1            1903         2244         2895         5448
Repeatable Handle Time       1901               145                    0            0            4            4            12           68
Worker Queue Time            1901               145                    0            48           6909         9183         18085        19781
Worker Handle Time           1901               145                    5001         6614         20688        22769        28303        32519
Total                        1901               145                    5002         7123         23126        25077        32520        32525
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           391897             30073                  0            1            2063         2402         3125         5712
Repeatable Handle Time       391897             30073                  0            0            4            4            4            488
Worker Queue Time            391897             30073                  0            50           7517         9451         17079        26868
Worker Handle Time           391897             30073                  11           13           2337         5317         10864        32519
Total                        391897             30073                  11           89           9390         11644        18941        32525
Running experiment for throughput = 40000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '40000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           518305             39788                  0            1            1432         1915         5203         8511
Repeatable Handle Time       518305             39788                  0            0            4            4            4            543
Worker Queue Time            518305             39788                  0            33           5419         8321         25784        157673
Worker Handle Time           518305             39788                  11           13           718          1634         4501         63459
Total                        518305             39788                  11           67           6787         9908         26511        159296
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           2684               206                    0            1            1225         1593         5382         6633
Repeatable Handle Time       2684               206                    0            0            4            4            4            14
Worker Queue Time            2684               206                    0            32           3658         5031         15828        154590
Worker Handle Time           2684               206                    5001         8965         46453        54125        68692        178278
Total                        2684               206                    5002         9046         47318        55806        79782        178337
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           520989             39994                  0            1            1432         1914         5212         8511
Repeatable Handle Time       520989             39994                  0            0            4            4            4            543
Worker Queue Time            520989             39994                  0            33           5411         8309         25784        157673
Worker Handle Time           520989             39994                  11           13           1665         6430         14890        178278
Total                        520989             39994                  11           68           8214         12120        30291        178337
Running experiment for throughput = 50000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '50000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           648421             49851                  0            1            1406         1843         2599         5246
Repeatable Handle Time       648421             49851                  0            0            4            4            4            726
Worker Queue Time            648421             49851                  0            4            6906         12151        39464        107531
Worker Handle Time           648421             49851                  11           13           516          1340         4955         94237
Total                        648421             49851                  11           69           8463         14080        42087        107545
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3310               254                    0            1            1425         1761         2636         3958
Repeatable Handle Time       3310               254                    0            0            4            4            4            4
Worker Queue Time            3310               254                    0            0            6324         10698        47842        88122
Worker Handle Time           3310               254                    5001         8850         61747        75909        91466        114734
Total                        3310               254                    5002         8952         66065        81526        99698        114840
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           651731             50106                  0            1            1406         1842         2600         5246
Repeatable Handle Time       651731             50106                  0            0            4            4            4            726
Worker Queue Time            651731             50106                  0            4            6906         12145        39580        107531
Worker Handle Time           651731             50106                  11           13           1362         6170         15781        114734
Total                        651731             50106                  11           69           9992         16187        43684        114840
Running experiment for throughput = 60000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '60000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           779412             59754                  0            0            5736         8963         12426        15985
Repeatable Handle Time       779412             59754                  0            0            4            4            4            903
Worker Queue Time            779412             59754                  0            0            5013         10990        88506        5700380
Worker Handle Time           779412             59754                  11           13           772          1711         7838         6737928
Total                        779412             59754                  11           76           10229        15402        142130       6737929
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3929               301                    0            0            6379         9262         14211        15472
Repeatable Handle Time       3929               301                    0            0            4            4            4            12
Worker Queue Time            3929               301                    0            0            4535         9192         67053        2520859
Worker Handle Time           3929               301                    5002         27713        2722917      5608411      6746011      6758640
Total                        3929               301                    5009         28273        2722987      5608422      6746014      6758646
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           783341             60056                  0            0            5742         8967         12446        15985
Repeatable Handle Time       783341             60056                  0            0            4            4            4            903
Worker Queue Time            783341             60056                  0            0            5010         10952        88495        5700380
Worker Handle Time           783341             60056                  11           13           1710         18905        84428        6758640
Total                        783341             60056                  11           77           15339        31194        301840       6758646
Running experiment for throughput = 70000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '70000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           908042             69755                  0            0            4627         6293         8381         12285
Repeatable Handle Time       908042             69755                  0            0            4            4            4            939
Worker Queue Time            908042             69755                  0            0            3024         7727         73032        11212236
Worker Handle Time           908042             69755                  11           13           700          1489         8976         7730502
Total                        908042             69755                  12           75           7067         11737        101784       11212814
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           4633               355                    0            0            5286         6362         8147         11529
Repeatable Handle Time       4633               355                    0            0            4            4            4            45
Worker Queue Time            4633               355                    0            0            2529         7075         135049       578852
Worker Handle Time           4633               355                    6469         20571        1197330      1980945      6175892      11283682
Total                        4633               355                    6470         21072        1197331      1981006      6175906      11283749
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           912675             70111                  0            0            4630         6294         8381         12285
Repeatable Handle Time       912675             70111                  0            0            4            4            4            939
Worker Queue Time            912675             70111                  0            0            3023         7725         73618        11212236
Worker Handle Time           912675             70111                  11           13           1506         14882        68154        11283682
Total                        912675             70111                  12           76           11727        24792        195354       11283749
Running experiment for throughput = 80000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '80000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1039635            79599                  0            51719        190703       192974       195933       197648
Repeatable Handle Time       1039635            79599                  0            0            4            4            4            904
Worker Queue Time            1039635            79599                  0            0            54           88           1025         1616244
Worker Handle Time           1039635            79599                  11           13           271          436          1496         2541349
Total                        1039635            79599                  12           51779        190756       193056       196030       2541350
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           5122               392                    0            50669        189777       191575       194533       197509
Repeatable Handle Time       5122               392                    0            0            4            4            4            17
Worker Queue Time            5122               392                    0            0            60           92           800          29755
Worker Handle Time           5122               392                    5002         22269        427421       792536       2265025      5183369
Total                        5122               392                    11961        86692        473429       793726       2265026      5278701
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1044757            79991                  0            51717        190698       192972       195933       197648
Repeatable Handle Time       1044757            79991                  0            0            4            4            4            904
Worker Queue Time            1044757            79991                  0            0            54           88           1025         1616244
Worker Handle Time           1044757            79991                  11           13           428          10357        37106        5183369
Total                        1044757            79991                  12           51896        190995       193376       197130       5278701
Running experiment for throughput = 90000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '90000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1168394            89537                  0            8064         64153        68441        71196        72584
Repeatable Handle Time       1168394            89537                  0            0            4            4            4            374
Worker Queue Time            1168394            89537                  0            0            80           127          5568         3134492
Worker Handle Time           1168394            89537                  11           12           259          428          1619         5246312
Total                        1168394            89537                  12           8130         64276        68559        71325        5274241
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           6029               462                    0            7843         63848        68325        70449        72405
Repeatable Handle Time       6029               462                    0            0            4            4            4            82
Worker Queue Time            6029               462                    0            0            75           123          608          42329
Worker Handle Time           6029               462                    5002         17331        448340       928976       3328062      6672140
Total                        6029               462                    5003         28495        475515       950921       3331397      6672141
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1174423            89999                  0            8063         64152        68440        71196        72584
Repeatable Handle Time       1174423            89999                  0            0            4            4            4            374
Worker Queue Time            1174423            89999                  0            0            80           127          5497         3134492
Worker Handle Time           1174423            89999                  11           12           436          13289        28021        6672140
Total                        1174423            89999                  12           8198         64712        68839        72070        6672141
Running experiment for throughput = 100000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '100000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           994988             76379                  475241       1791176      2994139      3012716      3020562      3022337
Repeatable Handle Time       994988             76379                  0            0            4            4            4            986
Worker Queue Time            994988             76379                  0            0            16           59           473          2044816
Worker Handle Time           994988             76379                  11           13           271          444          1491         218468
Total                        994988             76379                  475267       1791222      2994185      3012796      3020663      3736155
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           4958               380                    477476       1795309      2993130      3006948      3019223      3022226
Repeatable Handle Time       4958               380                    0            0            4            4            4            50
Worker Queue Time            4958               380                    0            0            16           68           982          13529
Worker Handle Time           4958               380                    5191         22512        326156       868509       4021553      7084655
Total                        4958               380                    495878       1838413      3039993      3147211      6209199      8667531
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           999946             76760                  475241       1791183      2994136      3012693      3020555      3022337
Repeatable Handle Time       999946             76760                  0            0            4            4            4            986
Worker Queue Time            999946             76760                  0            0            16           59           479          2044816
Worker Handle Time           999946             76760                  11           13           440          13439        39391        7084655
Total                        999946             76760                  475267       1791285      2994262      3012913      3020963      8667531
Running experiment for throughput = 110000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '110000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1243540            95555                  256165       1059161      1663785      1665656      1669167      1670691
Repeatable Handle Time       1243540            95555                  0            0            4            4            4            943
Worker Queue Time            1243540            95555                  0            0            15           35           1646         714515
Worker Handle Time           1243540            95555                  11           12           244          375          1213         4285733
Total                        1243540            95555                  256188       1059207      1663848      1665729      1669350      5423864
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           6199               476                    256310       1046575      1663176      1665073      1668486      1669745
Repeatable Handle Time       6199               476                    0            0            4            4            4            39
Worker Queue Time            6199               476                    0            0            16           38           289          108813
Worker Handle Time           6199               476                    5001         16576        421585       744008       2318751      6346224
Total                        6199               476                    269586       1077127      1757628      1933635      3366975      7194560
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1249739            96031                  256165       1059148      1663782      1665654      1669165      1670691
Repeatable Handle Time       1249739            96031                  0            0            4            4            4            943
Worker Queue Time            1249739            96031                  0            0            15           35           1646         714515
Worker Handle Time           1249739            96031                  11           12           372          11073        27068        6346224
Total                        1249739            96031                  256188       1059234      1663919      1665805      1669565      7194560
Running experiment for throughput = 120000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '120000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           980367             75115                  887710       2991974      4788990      4812148      4825098      4827199
Repeatable Handle Time       980367             75115                  0            0            4            4            4            1553
Worker Queue Time            980367             75115                  0            0            16           42           272          5604424
Worker Handle Time           980367             75115                  11           12           242          370          1236         1098156
Total                        980367             75115                  887723       2992008      4789039      4812201      4825161      8080323
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           4802               367                    887740       2937014      4788318      4811777      4824635      4826162
Repeatable Handle Time       4802               367                    0            0            4            4            4            16132
Worker Queue Time            4802               367                    0            0            15           34           209          25703
Worker Handle Time           4802               367                    5394         22467        500420       782625       3674138      11055426
Total                        4802               367                    905646       2991371      4838093      4876379      6123845      12304915
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           985169             75483                  887710       2991382      4788986      4812148      4825098      4827199
Repeatable Handle Time       985169             75483                  0            0            4            4            4            16132
Worker Queue Time            985169             75483                  0            0            16           42           271          5604424
Worker Handle Time           985169             75483                  11           12           362          7104         34153        11055426
Total                        985169             75483                  887723       2992000      4789141      4812235      4825218      12304915
Running experiment for throughput = 130000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '130000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1257330            96449                  528172       2000787      3279755      3298539      3303255      3311108
Repeatable Handle Time       1257330            96449                  0            0            4            4            4            4422
Worker Queue Time            1257330            96449                  0            0            16           70           7219         9334215
Worker Handle Time           1257330            96449                  11           12           234          368          1322         1233458
Total                        1257330            96449                  528185       2000846      3279938      3298616      3303304      9939505
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           6303               483                    529741       2031092      3282493      3298621      3306647      3311031
Repeatable Handle Time       6303               483                    0            0            4            4            4            37
Worker Queue Time            6303               483                    0            0            15           47           12849        103345
Worker Handle Time           6303               483                    5002         16066        428397       753006       5804491      11328719
Total                        6303               483                    544642       2065809      3320879      3426522      6779464      11913731
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1263633            96933                  528172       2000939      3279776      3298539      3303256      3311108
Repeatable Handle Time       1263633            96933                  0            0            4            4            4            4422
Worker Queue Time            1263633            96933                  0            0            16           70           7248         9334215
Worker Handle Time           1263633            96933                  11           12           366          10549        28598        11328719
Total                        1263633            96933                  528185       2001247      3280069      3298647      3303509      11913731
Running experiment for throughput = 140000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '140000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           920474             70747                  1410591      3903035      6356840      6369267      6391950      6403910
Repeatable Handle Time       920474             70747                  0            0            4            4            4            1682
Worker Queue Time            920474             70747                  0            0            16           67           1241         1052327
Worker Handle Time           920474             70747                  11           13           296          506          1676         338920
Total                        920474             70747                  1410604      3903150      6356867      6369292      6392021      6410776
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           4583               352                    1410661      3893937      6356654      6372700      6393918      6396837
Repeatable Handle Time       4583               352                    0            0            4            4            4            39
Worker Queue Time            4583               352                    0            0            16           67           198          7348
Worker Handle Time           4583               352                    5441         22159        392590       762702       2633536      11560683
Total                        4583               352                    1431509      3941415      6394057      6426896      7300506      13007845
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           925057             71099                  1410591      3902940      6356840      6369274      6391967      6403910
Repeatable Handle Time       925057             71099                  0            0            4            4            4            1682
Worker Queue Time            925057             71099                  0            0            16           67           1236         1052327
Worker Handle Time           925057             71099                  11           13           499          13748        37325        11560683
Total                        925057             71099                  1410604      3903194      6356941      6369366      6392148      13007845
Running experiment for throughput = 141000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '141000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1150036            88046                  1004605      2949831      4822273      4832111      4864909      4873917
Repeatable Handle Time       1150036            88046                  0            0            4            4            4            4631
Worker Queue Time            1150036            88046                  0            0            17           81           13421        1453532
Worker Handle Time           1150036            88046                  11           12           232          369          1271         171917
Total                        1150036            88046                  1004620      2949885      4822380      4832629      4865120      5312770
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           5918               453                    1008029      2990604      4825651      4845403      4869080      4873881
Repeatable Handle Time       5918               453                    0            0            4            4            4            4
Worker Queue Time            5918               453                    0            0            40           117          6487         178807
Worker Handle Time           5918               453                    5001         17029        414890       736335       2412943      5712028
Total                        5918               453                    1020087      3023372      4870049      4907787      5979169      8780246
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1155954            88499                  1004605      2949873      4822295      4832365      4864941      4873917
Repeatable Handle Time       1155954            88499                  0            0            4            4            4            4631
Worker Queue Time            1155954            88499                  0            0            17           82           13418        1453532
Worker Handle Time           1155954            88499                  11           12           375          12235        32047        5712028
Total                        1155954            88499                  1004620      2950049      4822707      4833127      4865752      8780246
Running experiment for throughput = 142000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '142000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           891485             68572                  1662991      4250211      6613118      6644301      6671118      6684410
Repeatable Handle Time       891485             68572                  0            0            4            4            4            2161
Worker Queue Time            891485             68572                  0            0            16           77           3355         6177888
Worker Handle Time           891485             68572                  11           12           270          441          1429         114710
Total                        891485             68572                  1663005      4250277      6613219      6644364      6671323      9567528
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           4496               345                    1663046      4260782      6626365      6647558      6670510      6683776
Repeatable Handle Time       4496               345                    0            0            4            4            4            37
Worker Queue Time            4496               345                    0            0            15           37           961          86147
Worker Handle Time           4496               345                    5625         22811        463018       610398       2619074      6271631
Total                        4496               345                    1680360      4315605      6688041      6725407      7478134      9654420
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           895981             68918                  1662991      4250264      6613181      6644307      6671105      6684410
Repeatable Handle Time       895981             68918                  0            0            4            4            4            2161
Worker Queue Time            895981             68918                  0            0            16           77           3349         6177888
Worker Handle Time           895981             68918                  11           12           441          15425        41058        6271631
Total                        895981             68918                  1663005      4250643      6613469      6644498      6679219      9654420
Running experiment for throughput = 143000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '143000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1153958            88652                  972256       3042066      4873751      4894526      4908779      4909658
Repeatable Handle Time       1153958            88652                  0            0            4            4            4            847
Worker Queue Time            1153958            88652                  0            0            16           55           5442         792230
Worker Handle Time           1153958            88652                  11           12           252          398          1364         363013
Total                        1153958            88652                  972269       3042119      4873779      4894615      4908814      5035470
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           5829               447                    974011       3033433      4873839      4892099      4906814      4909440
Repeatable Handle Time       5829               447                    0            0            4            4            4            4
Worker Queue Time            5829               447                    0            0            16           62           7570         69713
Worker Handle Time           5829               447                    5003         16766        386711       799929       2944604      6282739
Total                        5829               447                    987062       3081925      4911624      4958480      5692619      8202192
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1159787            89100                  972256       3042058      4873751      4894518      4908779      4909658
Repeatable Handle Time       1159787            89100                  0            0            4            4            4            847
Worker Queue Time            1159787            89100                  0            0            16           55           5473         792230
Worker Handle Time           1159787            89100                  11           12           398          11742        29199        6282739
Total                        1159787            89100                  972269       3042151      4873829      4894728      4908872      8202192
Running experiment for throughput = 144000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '144000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           911387             70080                  1544913      4049648      6578291      6606835      6629939      6630868
Repeatable Handle Time       911387             70080                  0            0            4            4            4            1519
Worker Queue Time            911387             70080                  0            0            15           35           217          6386318
Worker Handle Time           911387             70080                  11           13           230          340          1117         2729369
Total                        911387             70080                  1544926      4049741      6578319      6606905      6629970      8864017
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           4670               359                    1545027      4087514      6578104      6606688      6620404      6629970
Repeatable Handle Time       4670               359                    0            0            4            4            4            39
Worker Queue Time            4670               359                    0            0            16           49           251          41492
Worker Handle Time           4670               359                    7126         21843        443215       714672       2912454      9431347
Total                        4670               359                    1562475      4140915      6624731      6652703      7907849      11881951
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           916057             70439                  1544913      4050207      6578291      6606834      6629934      6630868
Repeatable Handle Time       916057             70439                  0            0            4            4            4            1519
Worker Queue Time            916057             70439                  0            0            15           35           218          6386318
Worker Handle Time           916057             70439                  11           13           343          16843        33335        9431347
Total                        916057             70439                  1544926      4050369      6578345      6607134      6629987      11881951
Running experiment for throughput = 145000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '145000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1202720            92198                  863164       2868169      4644116      4677412      4695054      4698374
Repeatable Handle Time       1202720            92198                  0            0            4            4            4            968
Worker Queue Time            1202720            92198                  0            0            16           50           8154         1263379
Worker Handle Time           1202720            92198                  11           12           237          369          1250         3042199
Total                        1202720            92198                  863178       2868205      4644160      4677511      4695097      6849223
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           6013               460                    863988       2860711      4657449      4682243      4694861      4698158
Repeatable Handle Time       6013               460                    0            0            4            4            4            8
Worker Queue Time            6013               460                    0            0            16           54           15585        110183
Worker Handle Time           6013               460                    5002         16269        424023       852086       3370073      9884910
Total                        6013               460                    877799       2889428      4698631      4737386      6860129      11529951
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1208733            92659                  863164       2868161      4644138      4677498      4695053      4698374
Repeatable Handle Time       1208733            92659                  0            0            4            4            4            968
Worker Queue Time            1208733            92659                  0            0            16           50           8173         1263379
Worker Handle Time           1208733            92659                  11           12           366          10516        28527        9884910
Total                        1208733            92659                  863178       2868214      4644416      4678101      4695112      11529951
Running experiment for throughput = 146000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '146000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           890496             68436                  1584402      4195748      6826084      6857619      6874473      6877769
Repeatable Handle Time       890496             68436                  0            0            4            4            4            702
Worker Queue Time            890496             68436                  0            0            16           54           521          887895
Worker Handle Time           890496             68436                  11           13           274          441          1462         543278
Total                        890496             68436                  1584415      4195775      6826313      6857658      6874539      6883032
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           4381               336                    1584620      4196694      6823526      6855298      6871663      6876184
Repeatable Handle Time       4381               336                    0            0            4            4            4            37
Worker Queue Time            4381               336                    0            0            15           89           679          14804
Worker Handle Time           4381               336                    5101         23141        595073       1215082      3244305      7904587
Total                        4381               336                    1605332      4242152      6890227      6933394      7970947      9630539
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           894877             68772                  1584402      4195749      6826084      6857617      6874473      6877769
Repeatable Handle Time       894877             68772                  0            0            4            4            4            702
Worker Queue Time            894877             68772                  0            0            16           54           527          887895
Worker Handle Time           894877             68772                  11           13           433          9412         38149        7904587
Total                        894877             68772                  1584415      4195806      6826604      6857959      6874868      9630539
Running experiment for throughput = 147000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '147000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1233370            94523                  918822       2971860      4584847      4594607      4605584      4612505
Repeatable Handle Time       1233370            94523                  0            0            4            4            4            895
Worker Queue Time            1233370            94523                  0            0            16           47           3739         3549621
Worker Handle Time           1233370            94523                  11           12           223          343          1190         323306
Total                        1233370            94523                  918834       2971942      4584928      4594644      4605633      7149040
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           6080               465                    918823       2950667      4582128      4594484      4605208      4612346
Repeatable Handle Time       6080               465                    0            0            4            4            4            67
Worker Queue Time            6080               465                    0            0            16           53           203          11312
Worker Handle Time           6080               465                    5002         15979        440118       1074587      3829538      4508527
Total                        6080               465                    931572       2988334      4621265      4689822      7292652      7572056
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1239450            94989                  918822       2971852      4584830      4594606      4605584      4612505
Repeatable Handle Time       1239450            94989                  0            0            4            4            4            895
Worker Queue Time            1239450            94989                  0            0            16           47           3722         3549621
Worker Handle Time           1239450            94989                  11           12           338          7929         27231        4508527
Total                        1239450            94989                  918834       2971998      4585158      4594671      4605893      7572056
Running experiment for throughput = 148000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '148000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           872723             67040                  1608122      4431572      7037459      7051979      7079889      7091592
Repeatable Handle Time       872723             67040                  0            0            4            4            4            437
Worker Queue Time            872723             67040                  0            0            17           71           2032         1401344
Worker Handle Time           872723             67040                  11           13           313          536          1635         1384017
Total                        872723             67040                  1608134      4431620      7037492      7052013      7079978      7105025
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           4384               336                    1608128      4427379      7039013      7058301      7083422      7090411
Repeatable Handle Time       4384               336                    0            0            4            4            4            5
Worker Queue Time            4384               336                    0            0            17           77           231          28044
Worker Handle Time           4384               336                    5082         23422        612108       1099815      3480312      8126482
Total                        4384               336                    1633577      4474713      7093006      7121673      8223338      11343982
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           877107             67377                  1608122      4431569      7037463      7051981      7079928      7091592
Repeatable Handle Time       877107             67377                  0            0            4            4            4            437
Worker Queue Time            877107             67377                  0            0            17           71           2015         1401344
Worker Handle Time           877107             67377                  11           13           534          16125        42301        8126482
Total                        877107             67377                  1608134      4431640      7037641      7052065      7080675      11343982
Running experiment for throughput = 149000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '149000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1143403            87793                  1243867      3295502      5248809      5281157      5309204      5310106
Repeatable Handle Time       1143403            87793                  0            0            4            4            4            1383
Worker Queue Time            1143403            87793                  0            0            17           71           8203         2375606
Worker Handle Time           1143403            87793                  11           12           237          373          1228         1767112
Total                        1143403            87793                  1243882      3295572      5248850      5281190      5309238      6055690
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           5819               446                    1243894      3295833      5254644      5281170      5305826      5309260
Repeatable Handle Time       5819               446                    0            0            4            4            4            98
Worker Queue Time            5819               446                    0            0            16           40           8041         26999
Worker Handle Time           5819               446                    5002         16280        449039       980225       3863737      8734908
Total                        5819               446                    1258211      3328641      5310153      5359605      7346438      11091913
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1149222            88240                  1243867      3295502      5248816      5281157      5309200      5310106
Repeatable Handle Time       1149222            88240                  0            0            4            4            4            1383
Worker Queue Time            1149222            88240                  0            0            17           71           8198         2375606
Worker Handle Time           1149222            88240                  11           12           375          11686        26892        8734908
Total                        1149222            88240                  1243882      3295652      5248877      5283708      5309257      11091913
Running experiment for throughput = 150000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '150000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           888978             68360                  1670259      4488935      7007959      7037559      7055136      7059813
Repeatable Handle Time       888978             68360                  0            0            4            4            4            2759
Worker Queue Time            888978             68360                  0            0            16           77           2289         713382
Worker Handle Time           888978             68360                  11           12           287          475          1525         80529
Total                        888978             68360                  1670272      4488991      7008169      7037587      7055165      7206780
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           4431               340                    1670774      4426865      7005721      7036554      7055246      7056408
Repeatable Handle Time       4431               340                    0            0            4            4            22           60
Worker Queue Time            4431               340                    0            0            17           67           3190         32165
Worker Handle Time           4431               340                    5259         23428        428857       775433       2676609      8182709
Total                        4431               340                    1691628      4484619      7062576      7091910      8034517      11398311
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           893409             68701                  1670259      4488912      7007959      7037559      7055136      7059813
Repeatable Handle Time       893409             68701                  0            0            4            4            4            2759
Worker Queue Time            893409             68701                  0            0            16           77           2303         713382
Worker Handle Time           893409             68701                  11           12           471          13145        43688        8182709
Total                        893409             68701                  1670272      4488982      7009778      7037602      7055199      11398311
